var Be=Object.defineProperty,Ie=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Re=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;var fe=(e,t,o)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,h=(e,t)=>{for(var o in t||(t={}))Re.call(t,o)&&fe(e,o,t[o]);if(he)for(var o of he(t))Fe.call(t,o)&&fe(e,o,t[o]);return e},D=(e,t)=>Ie(e,$e(t));import{J as Oe,F as Le,m as f,u as ye,a as P,b as ge,r as x,c as d,d as s,e as w,w as S,t as p,f as I,g as te,h as u,p as E,i as N,o as l,j as k,k as oe,l as _e,n as Y,q as J,I as b,C as _,A as O,s as X,v as Ve,x as ce,T as m,y as R,z as v,B as T,D as be,E as Q,G as we,H as G,K as He,L as We,M as Ke,N as je,O as qe,P as Ye,Q as Je,R as Ge,V as ze,S as Xe}from"./vendor.01dd2349.js";const Qe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};Qe();function V(){function e(a){return a===1?"Ethereum":a===10?"Optimism":a===56?"BNB Smart Chain":a===69?"Optimism Testnet":a===77?"Gnosis Testnet":a===100?"Gnosis Chain":a===137?"Polygon":a===250?"Fantom":a===4002?"Fantom Testnet":a===42161?"Arbitrum":a===421611?"Arbitrum Testnet":a===421613?"Arbitrum Goerli Testnet":a===80001?"Polygon Testnet":a===3?"Ropsten":a===4?"Rinkeby":a===1313161555?"Aurora Testnet":"Unsupported Network"}function t(a){let n;if(a===137?n=["https://1rpc.io/matic","https://polygon-rpc.com/"]:a===80001?n=["https://matic-mumbai.chainstacklabs.com"]:a===10?n=["https://optimism-mainnet.public.blastapi.io","https://rpc.ankr.com/optimism"]:a===56?n=["https://bscrpc.com"]:a===77?n=["https://sokol.poa.network"]:a===100?n=["https://rpc.xdaichain.com","https://rpc.gnosischain.com"]:a===250?n=["https://1rpc.io/ftm","https://rpcapi.fantom.network","https://rpc.ftm.tools"]:a===4002?n=["https://rpc.ankr.com/fantom_testnet","https://fantom-testnet.public.blastapi.io"]:a===42161?n=["https://1rpc.io/arb","https://arb1.arbitrum.io/rpc"]:a===421611?n=["https://rinkeby.arbitrum.io/rpc"]:a===421613?n=["https://goerli-rollup.arbitrum.io/rpc"]:a===1313161555&&(n=["https://testnet.aurora.dev"]),n){const i=n.map(r=>new Oe(r));return new Le(i,1)}else return null}function o(a){let n,i;return a=="Ethereum"?(n="wallet_switchEthereumChain",i=[{chainId:"0x1"}]):a=="Ropsten"?(n="wallet_switchEthereumChain",i=[{chainId:"0x3"}]):a=="Rinkeby"?(n="wallet_switchEthereumChain",i=[{chainId:"0x4"}]):a=="Polygon Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://mumbai.polygonscan.com"],chainId:"0x13881",chainName:"Mumbai Testnet",nativeCurrency:{decimals:18,name:"Matic",symbol:"MATIC"},rpcUrls:["https://matic-mumbai.chainstacklabs.com"]}]):a=="Arbitrum Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://testnet.arbiscan.io"],chainId:"0x66EEB",chainName:"Arbitrum Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rinkeby.arbitrum.io/rpc"]}]):a=="Arbitrum Goerli Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://goerli.arbiscan.io"],chainId:"0x66EED",chainName:"Arbitrum Goerli Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://goerli-rollup.arbitrum.io/rpc"]}]):a=="Arbitrum"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://arbiscan.io"],chainId:"0xA4B1",chainName:"Arbitrum One",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://1rpc.io/arb"]}]):a=="Optimism"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://optimistic.etherscan.io/"],chainId:"0xA",chainName:"Optimism",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://rpc.ankr.com/optimism"]}]):a=="Optimism Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://kovan-optimistic.etherscan.io/"],chainId:"0x45",chainName:"Optimism Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://kovan.optimism.io"]}]):a=="Polygon"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://polygonscan.com"],chainId:"0x89",chainName:"Polygon PoS Chain",nativeCurrency:{decimals:18,name:"MATIC",symbol:"MATIC"},rpcUrls:["https://1rpc.io/matic"]}]):a=="Gnosis Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://blockscout.com/poa/sokol"],chainId:"0x4D",chainName:"Gnosis Testnet",nativeCurrency:{decimals:18,name:"SPOA",symbol:"SPOA"},rpcUrls:["https://sokol.poa.network"]}]):a=="Gnosis Chain"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://blockscout.com/xdai/mainnet"],chainId:"0x64",chainName:"Gnosis Chain",nativeCurrency:{decimals:18,name:"XDAI",symbol:"XDAI"},rpcUrls:["https://rpc.gnosischain.com"]}]):a=="BNB Smart Chain"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://bscscan.com/"],chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:["https://bscrpc.com"]}]):a=="Aurora Testnet"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://testnet.aurorascan.dev/"],chainId:"0x4E454153",chainName:"Aurora Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:["https://testnet.aurora.dev"]}]):a=="Fantom"?(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://ftmscan.com"],chainId:"0xFA",chainName:"Fantom",nativeCurrency:{decimals:18,name:"FTM",symbol:"FTM"},rpcUrls:["https://1rpc.io/ftm"]}]):a=="Fantom Testnet"&&(n="wallet_addEthereumChain",i=[{blockExplorerUrls:["https://testnet.ftmscan.com"],chainId:"0xFA2",chainName:"Fantom Testnet",nativeCurrency:{decimals:18,name:"FTM",symbol:"FTM"},rpcUrls:["https://rpc.ankr.com/fantom_testnet"]}]),{method:n,params:i}}return{getChainName:e,getFallbackProvider:t,switchNetwork:o}}var Ze="/assets/pool-logo.d173cdf6.png";var C=(e,t)=>{for(const[o,a]of t)e[o]=a;return e};const et={name:"Navbar",computed:D(h(h({},f("user",["getUserShortAddress","getUserSelectedName"])),f("network",["getNetworkName","getSupportedNetworks","getSupportedNetworkNames"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress}}),methods:{changeNetwork(e){const t=this.switchNetwork(e);window.ethereum.request({method:t.method,params:t.params})},logout(){this.disconnect(),localStorage.clear(),localStorage.setItem("connected","null")},openUrl(e){window.open(e,"_blank").focus()}},setup(){const{open:e}=ge(),{disconnect:t}=ye(),{isActivated:o}=P(),{switchNetwork:a}=V();return{isActivated:o,disconnect:t,open:e,switchNetwork:a}}},re=e=>(E("data-v-02262349"),e=e(),N(),e),tt={class:"navbar navbar-expand-lg navbar-dark"},st={class:"container-fluid"},nt=re(()=>s("img",{src:Ze,alt:"",class:"d-inline-block align-text-top navbar-img"},null,-1)),at=k(" PoolTogether Names "),it=re(()=>s("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[s("span",{class:"navbar-toggler-icon"})],-1)),ot={class:"collapse navbar-collapse",id:"navbarSupportedContent"},rt={class:"d-flex ms-auto"},lt={class:"navbar-menu-buttons"},dt=re(()=>s("a",{class:"btn btn-primary mx-2 navbar-menu-btn",href:"https://pooly.me",target:"_blank"},"PoolTogether Merch Store",-1)),ct=re(()=>s("a",{class:"btn btn-primary mx-2 navbar-menu-btn",href:"https://pool.limo",target:"_blank"},"Pool.limo",-1)),ut={key:0,class:"btn-group mx-2 navbar-menu-btn"},mt={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-bs-toggle":"dropdown","aria-expanded":"false"},pt={class:"dropdown-menu","aria-labelledby":"dropdownMenuButton1"},ht=["onClick"],ft={key:1,class:"btn-group mx-2 navbar-menu-btn"},yt={class:"btn btn-primary dropdown-toggle",type:"button",id:"dropdownMenuButton2","data-bs-toggle":"dropdown","aria-expanded":"false"},gt={class:"dropdown-menu dropdown-menu-start","aria-labelledby":"dropdownMenuButton2"},_t=k("Profile"),bt=k("Buy domain"),wt=k("Search domain"),kt=k("Send tokens"),vt=k("About"),Tt={key:3,class:"btn-group mx-2 navbar-menu-btn"},Ct=k("Send Tokens");function Dt(e,t,o,a,n,i){const r=x("router-link");return l(),d("nav",tt,[s("div",st,[w(r,{to:"/",class:"navbar-brand"},{default:S(()=>[nt,at]),_:1}),it,s("div",ot,[s("div",rt,[s("div",lt,[dt,ct,a.isActivated?(l(),d("div",ut,[s("button",mt,p(e.getNetworkName),1),s("ul",pt,[s("li",null,[(l(!0),d(I,null,te(e.getSupportedNetworkNames,c=>(l(),d("span",{class:"dropdown-item",key:c,onClick:y=>i.changeNetwork(c)},"Switch to "+p(c),9,ht))),128))])])])):u("",!0),a.isActivated?(l(),d("div",ft,[s("button",yt,p(i.getNameOrAddress),1),s("ul",gt,[w(r,{tag:"li",class:"dropdown-item",to:"/profile"},{default:S(()=>[_t]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/"},{default:S(()=>[bt]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/search-domain"},{default:S(()=>[wt]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/send-tokens"},{default:S(()=>[kt]),_:1}),w(r,{tag:"li",class:"dropdown-item",to:"/about"},{default:S(()=>[vt]),_:1}),s("li",{class:"dropdown-item",onClick:t[0]||(t[0]=c=>i.openUrl("https://docs.punk.domains/"))},"Docs"),s("li",{class:"dropdown-item",onClick:t[1]||(t[1]=(...c)=>i.logout&&i.logout(...c))},"Disconnect")])])):u("",!0),a.isActivated?u("",!0):(l(),d("button",{key:2,class:"btn btn-primary navbar-menu-btn",onClick:t[2]||(t[2]=(...c)=>a.open&&a.open(...c))},"Connect wallet")),a.isActivated?(l(),d("div",Tt,[w(r,{tag:"button",class:"btn btn-primary",to:"/send-tokens"},{default:S(()=>[Ct]),_:1})])):u("",!0)])])])])])}var xt=C(et,[["render",Dt],["__scopeId","data-v-02262349"]]);const At={name:"Footer",computed:h(h({},f("network",["isNetworkSupported"])),f("user",["isUserMinterAdmin","isUserTldAdmin","isUserRoyaltyFeeUpdater"])),setup(){const{isActivated:e}=P();return{isActivated:e}}},ke=e=>(E("data-v-a7a6692a"),e=e(),N(),e),Pt={class:"container-fluid text-center mt-3"},St=k("Profile"),Et={key:1},Nt=k("Admin"),Ut={key:3},Mt=ke(()=>s("a",{target:"_blank",href:"https://twitter.com/DiurneNoxe"},"Operated by noxe\u{1F30A}\u{1F3C6}.eth",-1)),Bt=k(" | "),It=ke(()=>s("a",{target:"_blank",href:"https://punk.domains"},"Powered by Punk Domains",-1)),$t=_e('<div class="container-fluid text-center" data-v-a7a6692a><a class="icons" href="http://docs.punk.domains" target="_blank" data-v-a7a6692a><i class="bi bi-journal-text" data-v-a7a6692a></i></a><a class="icons" target="_blank" href="https://github.com/punk-domains" data-v-a7a6692a><i class="bi bi-github" data-v-a7a6692a></i></a><a class="icons" target="_blank" href="https://pooltogether.com/discord" data-v-a7a6692a><i class="bi bi-discord" data-v-a7a6692a></i></a><a class="icons" target="_blank" href="https://twitter.com/PoolTogether_" data-v-a7a6692a><i class="bi bi-twitter" data-v-a7a6692a></i></a><a class="icons" href="https://medium.com/pooltogether" target="_blank" data-v-a7a6692a><i class="bi bi-pencil-square" data-v-a7a6692a></i></a></div>',1);function Rt(e,t,o,a,n,i){const r=x("router-link");return l(),d(I,null,[s("div",Pt,[a.isActivated&&e.isNetworkSupported?(l(),oe(r,{key:0,to:"/profile"},{default:S(()=>[St]),_:1})):u("",!0),a.isActivated&&e.isNetworkSupported?(l(),d("span",Et," | ")):u("",!0),e.isUserMinterAdmin||e.isUserRoyaltyFeeUpdater||e.isUserTldAdmin?(l(),oe(r,{key:2,to:"/admin"},{default:S(()=>[Nt]),_:1})):u("",!0),e.isUserMinterAdmin||e.isUserRoyaltyFeeUpdater||e.isUserTldAdmin?(l(),d("span",Ut," | ")):u("",!0),Mt,Bt,It]),$t],64)}var Ft=C(At,[["render",Rt],["__scopeId","data-v-a7a6692a"]]),$={"1":{".wildbunch":"0xaa9E5Ade68C9C3Ea967Dc5dde731fd1f797152Cb"},"10":{".pool":"0xf2C9E463592BD440f0D422E944E5F95c79404586",".wagmi":"0xC3E8922657686EC63eaaa9FC1Fe06826802e7e0f",".optimism":"0xBca24d86e4Ad1e011278FaEFc4fF191a731411EC",".spartan":"0x3490C9817C45A2a394b11A3807f58a8325235aE0",".l2":"0x9A7657d1593032C75d70950707870c3cC7ca45DC",".op":"0xC16aCAdf99E4540E6f4E6Da816fd6D2A2C6E1d4F"},"69":{".optitest":"0xAc63b035e63d280c408549f5AFA64be7469470de",".l2test":"0xB5B8AF8199777d471c0320BC11022433df6D100e"},"77":{".testdao":"0x110cc3f64cdf8ffadc785dfa53906bcff76b3846"},"100":{".gnosis":"0xC3E8922657686EC63eaaa9FC1Fe06826802e7e0f",".xdai":"0xbca24d86e4ad1e011278faefc4ff191a731411ec",".bright":"0x3490c9817c45a2a394b11a3807f58a8325235ae0"},"137":{".web3":"0xb6Cf2874588d0fdFAf9d1b5E254ee6C49110C68B",".polygon":"0xa450bc33d0940d25fB0961c592fb440Fa63ABE03",".ape":"0x794a8390D94E32b086908D2bA9D66300aA163C62",".poly":"0x70Ac07C50131b7bb2c8Bd9466D8d2add30B7759f",".degen":"0xC4999A3e91ef87c9EC5d8186D02B77F9A62458b9",".klima":"0xe8b97542A433e7eCc7bB791872af04DF02A1a6E4"},"250":{".fantom":"0xBDACF94dDCAB51c39c2dD50BffEe60Bb8021949a"},"4002":{".testfantom":"0xBDACF94dDCAB51c39c2dD50BffEe60Bb8021949a"},"42161":{".ppl":"0xbC9d19e5f97a572f428F7292DBf3dc182Cc05C82",".arbi":"0xe97456E0fB121F65422F43ccbd4A07a0e269B534",".arbitrum":"0x337EB5061943ECd247649d58D35Dbab0b40D67E0",".smol":"0xE0d972817e94c5FF9BDc49a63d8927A0bA833E4f"},"80001":{".polytest":"0xebED27271230E8ED18fD3Ef96F0221D9DBC93750",".testppl":"0x17C212067f11BDFCb975A77b3fff56Dff8d2cd57"},"421611":{".arbitest":"0xC6a628b1FF1aD4e304bEeACAff915559786deA2e",".twbtest":"0xEEAEED736cc6A6e68CC2F62be19Cf7E06ad9E94A"},"421613":{".testpool":"0x4da0a46cc54439b1dE0203d376b98D988697091d"},"1313161555":{".testrora":"0x4087fb91A1fBdef05761C02714335D232a2Bf3a1",".test4ever":"0xc2C543D39426bfd1dB66bBde2Dd9E4a5c7212876"}},H=[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"address",name:"_tldOwner",type:"address"},{internalType:"uint256",name:"_domainPrice",type:"uint256"},{internalType:"bool",name:"_buyingEnabled",type:"bool"},{internalType:"uint256",name:"_royalty",type:"uint256"},{internalType:"address",name:"_factoryAddress",type:"address"},{internalType:"address",name:"_metadataAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"DataChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"defaultDomain",type:"string"}],name:"DefaultDomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainBurned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"bool",name:"domainBuyingToggle",type:"bool"}],name:"DomainBuyingToggle",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"string",name:"fullDomainName",type:"string"}],name:"DomainCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"user",type:"address"}],name:"MintingDisabledForever",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"referralFee",type:"uint256"}],name:"ReferralFeeChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldPrice",type:"uint256"}],name:"TldPriceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"tldRoyalty",type:"uint256"}],name:"TldRoyaltyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buyingDisabledForever",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyingEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_metadataAddress",type:"address"}],name:"changeMetadataAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_minter",type:"address"}],name:"changeMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_maxLength",type:"uint256"}],name:"changeNameMaxLength",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referral",type:"uint256"}],name:"changeReferralFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royalty",type:"uint256"}],name:"changeRoyalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newReceiver",type:"address"}],name:"changeRoyaltyFeeReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newUpdater",type:"address"}],name:"changeRoyaltyFeeUpdater",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"defaultNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"disableBuyingForever",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"domainIdsNames",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"",type:"string"}],name:"domains",outputs:[{internalType:"string",name:"name",type:"string"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"holder",type:"address"},{internalType:"string",name:"data",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"string",name:"_data",type:"string"}],name:"editData",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"editDefaultDomain",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factoryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"freezeMetadata",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainData",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"}],name:"getDomainHolder",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"idCounter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"metadataFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"minter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"nameMaxLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referral",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeReceiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"royaltyFeeUpdater",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"toggleBuyingDomains",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}];const Ot={components:{Navbar:xt,Footer:Ft},created(){this.fetchReferrer(),this.setTldContract(),this.fetchMinterContractData(),this.checkIfAdmin(),localStorage.getItem("punkv1")||(localStorage.clear(),localStorage.setItem("connected","null"),localStorage.setItem("punkv1","true"))},computed:h({},f("user",["getUserSelectedName"])),methods:D(h(h(h(h(h({},Y("user",["checkIfAdmin","fetchUserDomainNames","fetchCanUserBuy"])),Y("tld",["fetchMinterContractData"])),J("user",["setUserData"])),J("network",["setNetworkData"])),J("tld",["setTldContract"])),{async fetchReferrer(){const t=new URLSearchParams(window.location.search).get("ref");if(t&&t.split(".").length===2){const o=t.split(".");for(let a in $)if($[a]["."+o[1]]){const n=this.getFallbackProvider(Number(a)),i=new b(H),c=await new _($[a]["."+o[1]],i,n).getDomainHolder(o[0]);c!==O&&localStorage.setItem("referral",c);break}}else t&&X(t)&&localStorage.setItem("referral",t)}}),setup(){const{address:e,chainId:t,isActivated:o}=P(),{connect:a}=ye(),{getFallbackProvider:n}=V();return Ve(()=>{!o.value&&localStorage.getItem("connected")=="metamask"&&a("metamask")}),{address:e,chainId:t,connect:a,getFallbackProvider:n,isActivated:o}},watch:{address(e,t){e&&(this.setUserData(),this.fetchUserDomainNames(!0),this.checkIfAdmin())},chainId(e,t){!this.isActivated&&localStorage.getItem("connected")=="metamask"&&this.connect("metamask"),this.chainId>=1&&(this.setUserData(),this.setNetworkData(),this.fetchUserDomainNames(!0),this.checkIfAdmin())},isActivated(e,t){!localStorage.getItem("connected")&&localStorage.getItem("connected")!=="null"&&localStorage.setItem("connected","metamask")}}},Lt={class:"main-container background-main"};function Vt(e,t,o,a,n,i){const r=x("Navbar"),c=x("router-view"),y=x("Footer"),M=x("vdapp-board");return l(),d(I,null,[w(r),s("div",Lt,[w(c),w(y)]),w(M)],64)}var Ht=C(Ot,[["render",Vt],["__scopeId","data-v-0116e50a"]]);const Wt="modulepreload",ve={},Kt="/",jt=function(t,o){return!o||o.length===0?t():Promise.all(o.map(a=>{if(a=`${Kt}${a}`,a in ve)return;ve[a]=!0;const n=a.endsWith(".css"),i=n?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${i}`))return;const r=document.createElement("link");if(r.rel=n?"stylesheet":Wt,n||(r.as="script",r.crossOrigin=""),r.href=a,document.head.appendChild(r),n)return new Promise((c,y)=>{r.addEventListener("load",c),r.addEventListener("error",y)})})).then(()=>t())},qt={name:"WaitingToast",props:["text"]},Yt=s("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),Jt={class:"mx-2"};function Gt(e,t,o,a,n,i){return l(),d("div",null,[Yt,s("span",Jt,p(o.text),1)])}var U=C(qt,[["render",Gt]]),K=[{inputs:[{internalType:"address",name:"_treasuryAddress",type:"address"},{internalType:"address",name:"_brokerAddress",type:"address"},{internalType:"address",name:"_tldAddress",type:"address"},{internalType:"uint256",name:"_price1char",type:"uint256"},{internalType:"uint256",name:"_price2char",type:"uint256"},{internalType:"uint256",name:"_price3char",type:"uint256"},{internalType:"uint256",name:"_price4char",type:"uint256"},{internalType:"uint256",name:"_price5char",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{stateMutability:"payable",type:"fallback"},{inputs:[],name:"MAX_BPS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"brokerAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"brokerFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_brokerAddress",type:"address"}],name:"changeBrokerAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_brokerFee",type:"uint256"}],name:"changeBrokerFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_price",type:"uint256"},{internalType:"uint256",name:"_chars",type:"uint256"}],name:"changePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_referralFee",type:"uint256"}],name:"changeReferralFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_royaltyFee",type:"uint256"}],name:"changeRoyaltyFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_treasuryAddress",type:"address"}],name:"changeTreasuryAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"},{internalType:"address",name:"_referrer",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_domainName",type:"string"},{internalType:"address",name:"_domainHolder",type:"address"}],name:"ownerFreeMint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1char",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price2char",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price3char",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price4char",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price5char",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenAmount_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenAddress_",type:"address"},{internalType:"uint256",name:"tokenId_",type:"uint256"},{internalType:"address",name:"recipient_",type:"address"}],name:"recoverERC721",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"referralFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"royaltyFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tldContract",outputs:[{internalType:"contract IFlexiPunkTLD",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"togglePaused",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"treasuryAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];function Te(){function e(t){return t===""?{invalid:!0,message:null}:t===null?{invalid:!0,message:null}:t.includes(".")?{invalid:!0,message:"Dots not allowed"}:t.includes(" ")?{invalid:!0,message:"Spaces not allowed"}:t.includes("%")?{invalid:!0,message:"% not allowed"}:t.includes("&")?{invalid:!0,message:"& not allowed"}:t.includes("?")?{invalid:!0,message:"? not allowed"}:t.includes("#")?{invalid:!0,message:"# not allowed"}:t.includes("/")?{invalid:!0,message:"/ not allowed"}:t.includes(",")?{invalid:!0,message:"Comma not allowed"}:t.includes("\\")||t.includes("\xAD")||t.includes("	")||t.includes("\u034F")||t.includes("\u061C")||t.includes("\u070F")||t.includes("\u115F")||t.includes("\u1160")||t.includes("\u1680")||t.includes("\u17B4")||t.includes("\u17B5")||t.includes("\u180E")||t.includes("\u2000")||t.includes("\u2001")||t.includes("\u2002")||t.includes("\u2003")||t.includes("\u2004")||t.includes("\u2005")||t.includes("\u2006")||t.includes("\u2007")||t.includes("\u2008")||t.includes("\u2009")||t.includes("\u200A")||t.includes("\u200B")||t.includes("\u200C")||t.includes("\u200D")||t.includes("\u200E")||t.includes("\u200F")||t.includes("\u202F")||t.includes("\u205F")||t.includes("\u2060")||t.includes("\u2061")||t.includes("\u2062")||t.includes("\u2063")||t.includes("\u2064")||t.includes("\u206A")||t.includes("\u206B")||t.includes("\u206C")||t.includes("\u206D")||t.includes("\u206E")||t.includes("\u206F")||t.includes("\u3000")||t.includes("\u2800")||t.includes("\u3164")||t.includes("\uFFA0")||t.includes("\u{110B1}")||t.includes("\u{1BCA0}")||t.includes("\u{1BCA1}")||t.includes("\u{1BCA2}")||t.includes("\u{1BCA3}")||t.includes("\u{1D159}")||t.includes("\u{1D173}")||t.includes("\u{1D174}")||t.includes("\u{1D175}")||t.includes("\u{1D176}")||t.includes("\u{1D177}")||t.includes("\u{1D178}")||t.includes("\u{1D179}")||t.includes("\u{1D17A}")||t.includes("\v")||t.includes("\f")||t.includes("\x85")?{invalid:!0,message:"This character is not allowed"}:!1}return{buyNotValid:e}}const zt={name:"Admin",data(){return{newDomain:null,newDomainOwner:null,newMinterOwner:null,newTldOwner:null,newPrice1:null,newPrice2:null,newPrice3:null,newPrice4:null,newPrice5:null,newReferralFee:null,waitingMfd:!1,waitingPaused:!1,waitingPrice1:!1,waitingPrice2:!1,waitingPrice3:!1,waitingPrice4:!1,waitingPrice5:!1,waitingRf:!1,waitingTmo:!1,waitingTdo:!1}},computed:h(h(h(h({},f("punk",["getTldAbi"])),f("network",["getBlockExplorerBaseUrl"])),f("user",["isUserMinterAdmin","isUserTldAdmin","isUserRoyaltyFeeUpdater"])),f("tld",["getMinterAddress","getTldAddress","getMinterPaused","getMinterTldPrice1","getMinterTldPrice2","getMinterTldPrice3","getMinterTldPrice4","getMinterTldPrice5"])),methods:D(h({},Y("tld",["fetchMinterContractData"])),{async changePrice(e){let t;switch(e){case 1:this.waitingPrice1=!0,t=this.newPrice1;break;case 2:this.waitingPrice2=!0,t=this.newPrice2;break;case 3:this.waitingPrice3=!0,t=this.newPrice3;break;case 4:this.waitingPrice4=!0,t=this.newPrice4;break;case 5:this.waitingPrice5=!0,t=this.newPrice5;break}const o=ce(t,18),a=new b(K),n=new _(this.getMinterAddress,a,this.signer);try{const i=await n.changePrice(o,Number(e)),r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),c=await i.wait();if(c.status===1)switch(this.toast.dismiss(r),this.toast("You have changed price!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.fetchMinterContractData(),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}else switch(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(c),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}}catch(i){switch(console.log(i),e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}this.toast(i.message,{type:m.ERROR})}switch(e){case 1:this.waitingPrice1=!1;break;case 2:this.waitingPrice2=!1;break;case 3:this.waitingPrice3=!1;break;case 4:this.waitingPrice4=!1;break;case 5:this.waitingPrice5=!1;break}},async changeReferralFee(){this.waitingRf=!0;const e=new b(K),t=new _(this.getMinterAddress,e,this.signer);try{const o=await t.changeReferralFee(Number(this.newReferralFee)),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),n=await o.wait();n.status===1?(this.toast.dismiss(a),this.toast("You have changed the referral fee!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.waitingRf=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(n),this.waitingRf=!1)}catch(o){console.log(o),this.waitingRf=!1,this.toast(o.message,{type:m.ERROR})}this.waitingRf=!1},async mintFreeDomain(){this.waitingMfd=!0;const e=String(this.newDomain).toLowerCase(),t=new b(this.getTldAbi);if(await new _(this.getTldAddress,t,this.signer).getDomainHolder(e)!==O){this.toast("Sorry, but this domain name is already taken...",{type:m.ERROR}),this.waitingMfd=!1;return}const n=new b(K),i=new _(this.getMinterAddress,n,this.signer);try{const r=await i.ownerFreeMint(e,this.newDomainOwner),c=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),y=await r.wait();y.status===1?(this.toast.dismiss(c),this.toast("You have successfully minted a new domain!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),this.waitingMfd=!1):(this.toast.dismiss(c),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+r.hash,"_blank").focus()}),console.log(y),this.waitingMfd=!1)}catch(r){console.log(r),this.waitingMfd=!1,this.toast(r.message,{type:m.ERROR})}this.waitingMfd=!1},async togglePaused(){this.waitingPaused=!0;const e=new b(K),t=new _(this.getMinterAddress,e,this.signer);try{const o=await t.togglePaused(),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),n=await o.wait();n.status===1?(this.toast.dismiss(a),this.toast("You have un/paused the minter contract!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.fetchMinterContractData(),this.waitingPaused=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(n),this.waitingPaused=!1)}catch(o){console.log(o),this.waitingPaused=!1,this.toast(o.message,{type:m.ERROR})}this.waitingPaused=!1},async transferMinterOwnership(){this.waitingTmo=!0;const e=new b(K),t=new _(this.getMinterAddress,e,this.signer);try{const o=await t.transferOwnership(this.newMinterOwner),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),n=await o.wait();n.status===1?(this.toast.dismiss(a),this.toast("You have transferred ownership!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.waitingTmo=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(n),this.waitingTmo=!1)}catch(o){console.log(o),this.waitingTmo=!1,this.toast(o.message,{type:m.ERROR})}this.waitingTmo=!1},async transferTldOwnership(){this.waitingTdo=!0;const e=new b(this.getTldAbi),t=new _(this.getTldAddress,e,this.signer);try{const o=await t.transferOwnership(this.newTldOwner),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),n=await o.wait();n.status===1?(this.toast.dismiss(a),this.toast("You have transferred ownership!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.waitingTdo=!1):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(n),this.waitingTdo=!1)}catch(o){console.log(o),this.waitingTdo=!1,this.toast(o.message,{type:m.ERROR})}this.waitingTdo=!1}}),setup(){const{address:e,isActivated:t,signer:o}=P(),a=R(),{buyNotValid:n}=Te();return{address:e,buyNotValid:n,isActivated:t,signer:o,toast:a}}},g=e=>(E("data-v-574cbea0"),e=e(),N(),e),Xt={class:"container"},Qt=g(()=>s("h1",{class:"text-center"},"Admin",-1)),Zt={class:"row mt-3 text-center"},es={class:"col-md-8 offset-md-2"},ts={key:0},ss={key:0},ns={key:1},as=["disabled"],is={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},os={key:1},rs={key:2},ls=g(()=>s("hr",null,null,-1)),ds={key:1},cs=g(()=>s("h3",null,"Change referral fee",-1)),us=g(()=>s("p",null,"Important: Referral fees are defined in basis points (bps). Example: 1000 bps = 10%",-1)),ms={class:"row mt-5"},ps={class:"col-md-6 offset-md-3"},hs=["disabled"],fs={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},ys=g(()=>s("span",null,"Change referral fee",-1)),gs=g(()=>s("hr",null,null,-1)),_s={key:2},bs=g(()=>s("h3",null,"Change price (1 char domains)",-1)),ws={class:"row mt-5"},ks={class:"col-md-6 offset-md-3"},vs=["disabled"],Ts={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Cs=g(()=>s("span",null,"Change price (1 char)",-1)),Ds=g(()=>s("hr",null,null,-1)),xs={key:3},As=g(()=>s("h3",null,"Change price (2 char domains)",-1)),Ps={class:"row mt-5"},Ss={class:"col-md-6 offset-md-3"},Es=["disabled"],Ns={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Us=g(()=>s("span",null,"Change price (2 chars)",-1)),Ms=g(()=>s("hr",null,null,-1)),Bs={key:4},Is=g(()=>s("h3",null,"Change price (3 char domains)",-1)),$s={class:"row mt-5"},Rs={class:"col-md-6 offset-md-3"},Fs=["disabled"],Os={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Ls=g(()=>s("span",null,"Change price (3 chars)",-1)),Vs=g(()=>s("hr",null,null,-1)),Hs={key:5},Ws=g(()=>s("h3",null,"Change price (4 char domains)",-1)),Ks={class:"row mt-5"},js={class:"col-md-6 offset-md-3"},qs=["disabled"],Ys={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Js=g(()=>s("span",null,"Change price (4 chars)",-1)),Gs=g(()=>s("hr",null,null,-1)),zs={key:6},Xs=g(()=>s("h3",null,"Change price (5+ char domains)",-1)),Qs={class:"row mt-5"},Zs={class:"col-md-6 offset-md-3"},en=["disabled"],tn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},sn=g(()=>s("span",null,"Change price (5+ chars)",-1)),nn=g(()=>s("hr",null,null,-1)),an={key:7},on=g(()=>s("h3",null,"Minter contract: transfer ownership",-1)),rn=g(()=>s("p",null,"Transfer ownership of the minter contract to another address.",-1)),ln={class:"row mt-5"},dn={class:"col-md-6 offset-md-3"},cn=["disabled"],un={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},mn=g(()=>s("span",null,"Transfer minter ownership",-1)),pn=g(()=>s("hr",null,null,-1)),hn={key:8},fn=g(()=>s("h3",null,"TLD contract: transfer ownership",-1)),yn=g(()=>s("p",null,"Transfer ownership of the TLD contract to another address.",-1)),gn={class:"row mt-5"},_n={class:"col-md-6 offset-md-3"},bn=["disabled"],wn={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},kn=g(()=>s("span",null,"Transfer TLD ownership",-1)),vn=g(()=>s("hr",null,null,-1)),Tn={key:9},Cn=g(()=>s("h3",null,"Minter contract: mint a domain for free",-1)),Dn=g(()=>s("p",null,"The owner of the Minter contract can mint a domain for free.",-1)),xn={class:"row mt-5"},An={class:"col-md-6 offset-md-3"},Pn={key:0,class:"error"},Sn={class:"row mt-2"},En={class:"col-md-6 offset-md-3"},Nn=["disabled"],Un={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Mn=g(()=>s("span",null,"Mint a free domain",-1)),Bn=g(()=>s("hr",null,null,-1));function In(e,t,o,a,n,i){return l(),d("div",Xt,[Qt,s("div",Zt,[s("div",es,[e.isUserMinterAdmin?(l(),d("div",ts,[e.getMinterPaused?(l(),d("h3",ss,"Unpause the minting contract")):u("",!0),e.getMinterPaused?u("",!0):(l(),d("h3",ns,"Pause the minting contract")),a.isActivated?(l(),d("button",{key:2,class:"btn btn-primary btn-lg mt-3",onClick:t[0]||(t[0]=(...r)=>i.togglePaused&&i.togglePaused(...r)),disabled:n.waitingPaused},[n.waitingPaused?(l(),d("span",is)):u("",!0),e.getMinterPaused?(l(),d("span",os,"Unpause")):u("",!0),e.getMinterPaused?u("",!0):(l(),d("span",rs,"Pause"))],8,as)):u("",!0),ls])):u("",!0),e.isUserMinterAdmin?(l(),d("div",ds,[cs,us,s("div",ms,[s("div",ps,[v(s("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.newReferralFee=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new referral fee"},null,512),[[T,n.newReferralFee]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[2]||(t[2]=(...r)=>i.changeReferralFee&&i.changeReferralFee(...r)),disabled:n.waitingRf},[n.waitingRf?(l(),d("span",fs)):u("",!0),ys],8,hs)):u("",!0),gs])):u("",!0),e.isUserMinterAdmin?(l(),d("div",_s,[bs,s("p",null,"Current price: "+p(e.getMinterTldPrice1)+" ETH",1),s("div",ws,[s("div",ks,[v(s("input",{"onUpdate:modelValue":t[3]||(t[3]=r=>n.newPrice1=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 1 char domains"},null,512),[[T,n.newPrice1]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[4]||(t[4]=r=>i.changePrice(1)),disabled:n.waitingPrice1},[n.waitingPrice1?(l(),d("span",Ts)):u("",!0),Cs],8,vs)):u("",!0),Ds])):u("",!0),e.isUserMinterAdmin?(l(),d("div",xs,[As,s("p",null,"Current price: "+p(e.getMinterTldPrice2)+" ETH",1),s("div",Ps,[s("div",Ss,[v(s("input",{"onUpdate:modelValue":t[5]||(t[5]=r=>n.newPrice2=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 2 char domains"},null,512),[[T,n.newPrice2]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[6]||(t[6]=r=>i.changePrice(2)),disabled:n.waitingPrice2},[n.waitingPrice2?(l(),d("span",Ns)):u("",!0),Us],8,Es)):u("",!0),Ms])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Bs,[Is,s("p",null,"Current price: "+p(e.getMinterTldPrice3)+" ETH",1),s("div",$s,[s("div",Rs,[v(s("input",{"onUpdate:modelValue":t[7]||(t[7]=r=>n.newPrice3=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 3 char domains"},null,512),[[T,n.newPrice3]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[8]||(t[8]=r=>i.changePrice(3)),disabled:n.waitingPrice3},[n.waitingPrice3?(l(),d("span",Os)):u("",!0),Ls],8,Fs)):u("",!0),Vs])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Hs,[Ws,s("p",null,"Current price: "+p(e.getMinterTldPrice4)+" ETH",1),s("div",Ks,[s("div",js,[v(s("input",{"onUpdate:modelValue":t[9]||(t[9]=r=>n.newPrice4=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 4 char domains"},null,512),[[T,n.newPrice4]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[10]||(t[10]=r=>i.changePrice(4)),disabled:n.waitingPrice4},[n.waitingPrice4?(l(),d("span",Ys)):u("",!0),Js],8,qs)):u("",!0),Gs])):u("",!0),e.isUserMinterAdmin?(l(),d("div",zs,[Xs,s("p",null,"Current price: "+p(e.getMinterTldPrice5)+" ETH",1),s("div",Qs,[s("div",Zs,[v(s("input",{"onUpdate:modelValue":t[11]||(t[11]=r=>n.newPrice5=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the new price for 5+ char domains"},null,512),[[T,n.newPrice5]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[12]||(t[12]=r=>i.changePrice(5)),disabled:n.waitingPrice5},[n.waitingPrice5?(l(),d("span",tn)):u("",!0),sn],8,en)):u("",!0),nn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",an,[on,rn,s("div",ln,[s("div",dn,[v(s("input",{"onUpdate:modelValue":t[13]||(t[13]=r=>n.newMinterOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[T,n.newMinterOwner]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[14]||(t[14]=(...r)=>i.transferMinterOwnership&&i.transferMinterOwnership(...r)),disabled:n.waitingTmo},[n.waitingTmo?(l(),d("span",un)):u("",!0),mn],8,cn)):u("",!0),pn])):u("",!0),e.isUserTldAdmin?(l(),d("div",hn,[fn,yn,s("div",gn,[s("div",_n,[v(s("input",{"onUpdate:modelValue":t[15]||(t[15]=r=>n.newTldOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[T,n.newTldOwner]])])]),a.isActivated?(l(),d("button",{key:0,class:"btn btn-primary btn-lg mt-3",onClick:t[16]||(t[16]=(...r)=>i.transferTldOwnership&&i.transferTldOwnership(...r)),disabled:n.waitingTdo},[n.waitingTdo?(l(),d("span",wn)):u("",!0),kn],8,bn)):u("",!0),vn])):u("",!0),e.isUserMinterAdmin?(l(),d("div",Tn,[Cn,Dn,s("div",xn,[s("div",An,[v(s("input",{"onUpdate:modelValue":t[17]||(t[17]=r=>n.newDomain=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a domain name (without extension)"},null,512),[[T,n.newDomain]])])]),a.buyNotValid(n.newDomain).invalid?(l(),d("p",Pn,[s("small",null,[s("em",null,p(a.buyNotValid(n.newDomain).message),1)])])):u("",!0),s("div",Sn,[s("div",En,[v(s("input",{"onUpdate:modelValue":t[18]||(t[18]=r=>n.newDomainOwner=r),class:"form-control text-center border-2 border-light",placeholder:"Enter a new owner address"},null,512),[[T,n.newDomainOwner]])])]),a.isActivated?(l(),d("button",{key:1,class:"btn btn-primary btn-lg mt-3",onClick:t[19]||(t[19]=(...r)=>i.mintFreeDomain&&i.mintFreeDomain(...r)),disabled:n.waitingMfd||a.buyNotValid(n.newDomain).invalid},[n.waitingMfd?(l(),d("span",Un)):u("",!0),Mn],8,Nn)):u("",!0),Bn])):u("",!0)])])])}var $n=C(zt,[["render",In],["__scopeId","data-v-574cbea0"]]);const Rn={name:"About"},Ce=e=>(E("data-v-06e4f730"),e=e(),N(),e),Fn={class:"container"},On=Ce(()=>s("h1",{class:"text-center"},"About Domains",-1)),Ln=Ce(()=>s("div",{class:"row mt-3"},[s("div",{class:"col-md-8 offset-md-2"},[s("p",null," ... ")])],-1)),Vn=[On,Ln];function Hn(e,t,o,a,n,i){return l(),d("div",Fn,Vn)}var Wn=C(Rn,[["render",Hn],["__scopeId","data-v-06e4f730"]]),ue=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}];const Kn={name:"Sidebar",data(){return{flipSide:"back"}},created(){const e=localStorage.getItem("flipSide");(e==="front"||e==="back")&&(this.flipSide=e)},computed:D(h({},f("user",["getUserSelectedName","getPaymentTokenName","getUserShortAddress","getUserSelectedNameImageSvg"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserShortAddress},getUserImage(){return this.getUserSelectedNameImageSvg?this.getUserSelectedNameImageSvg:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}}),methods:{flipImage(){this.flipSide==="front"?(this.flipSide="back",localStorage.setItem("flipSide","back")):(this.flipSide="front",localStorage.setItem("flipSide","front"))}}},Z=e=>(E("data-v-d8bc3e2c"),e=e(),N(),e),jn={class:"container"},qn={class:"custom-img-content"},Yn=["src"],Jn=Z(()=>s("small",null,[s("i",{class:"bi bi-arrow-repeat"})],-1)),Gn=[Jn],zn=Z(()=>s("hr",null,null,-1)),Xn=Z(()=>s("i",{class:"bi bi-person"},null,-1)),Qn=k(" Profile "),Zn=Z(()=>s("i",{class:"bi bi-cart4"},null,-1)),ea=k(" Buy domain "),ta=Z(()=>s("i",{class:"bi bi-search"},null,-1)),sa=k(" Search domain "),na=Z(()=>s("i",{class:"bi bi-send"},null,-1)),aa=k(" Send tokens ");function ia(e,t,o,a,n,i){const r=x("router-link");return l(),d("div",jn,[w(be,{name:"flip"},{default:S(()=>[n.flipSide=="front"?(l(),d("div",{key:0,onClick:t[0]||(t[0]=(...c)=>i.flipImage&&i.flipImage(...c)),class:"img-thumbnail custom-img-container"},[s("div",qn,[s("div",null,[s("span",null,p(i.getNameOrAddress),1)])])])):u("",!0)]),_:1}),w(be,{name:"flip"},{default:S(()=>[n.flipSide=="back"?(l(),d("img",{key:0,onClick:t[1]||(t[1]=(...c)=>i.flipImage&&i.flipImage(...c)),src:i.getUserImage,class:"img-fluid img-thumbnail"},null,8,Yn)):u("",!0)]),_:1}),s("div",{class:"text-center",onClick:t[2]||(t[2]=(...c)=>i.flipImage&&i.flipImage(...c))},Gn),zn,w(r,{class:"btn btn-sidebar text-start",to:"/profile"},{default:S(()=>[Xn,Qn]),_:1}),w(r,{class:"btn btn-sidebar text-start",to:"/"},{default:S(()=>[Zn,ea]),_:1}),w(r,{class:"btn btn-sidebar text-start",to:"/search-domain"},{default:S(()=>[ta,sa]),_:1}),w(r,{class:"btn btn-sidebar text-start",to:"/profile/send-tokens"},{default:S(()=>[na,aa]),_:1})])}var z=C(Kn,[["render",ia],["__scopeId","data-v-d8bc3e2c"]]);const oa={name:"Allowance",components:{Sidebar:z},data(){return{newAllowance:null,waiting:!1}},computed:D(h(h(h({},f("user",["getPaymentTokenAddress","getPaymentTokenName","getPaymentTokenAllowance","getPaymentTokenBalance","getPaymentTokenDecimals"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getMinterAddress"])),{notValid(){if(this.newAllowance){if(isNaN(this.newAllowance))return!0;if(Number(this.newAllowance)<0)return!0;if(this.newAllowance.includes(" "))return!0}else return!0;return!1}}),methods:D(h({},J("user",["setPaymentTokenAllowance"])),{async approveToken(){this.waiting=!0;const e=new b(ue),t=new _(this.getPaymentTokenAddress,e,this.signer),o=this.newAllowance;try{const a=await t.approve(this.getMinterAddress,ce(o,this.getPaymentTokenDecimals)),n=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),i=await a.wait();i.status===1?(this.toast.dismiss(n),this.toast("You have successfully set the allowance to "+o+" "+this.getPaymentTokenName+"!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.setPaymentTokenAllowance(o),this.waiting=!1):(this.toast.dismiss(n),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(i),this.waiting=!1)}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:m.ERROR})}this.waiting=!1}}),setup(){const{signer:e}=P(),t=R(),{getFallbackProvider:o}=V();return{getFallbackProvider:o,signer:e,toast:t}}},ra={class:"row"},la={class:"col-md-3",id:"sidebar-container"},da={class:"col-md-9"},ca={class:"row"},ua={class:"col-md-12 mb-3"},ma={class:"container text-center"},pa={class:"mt-4"},ha={class:"row mt-5"},fa={class:"col-md-6 offset-md-3"},ya=["placeholder"],ga=["disabled"],_a={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},ba=k(" Confirm new allowance ");function wa(e,t,o,a,n,i){const r=x("Sidebar");return l(),d("div",ra,[s("div",la,[w(r)]),s("div",da,[s("div",ca,[s("div",ua,[s("div",ma,[s("h3",null,"Manage "+p(e.getPaymentTokenName)+" allowance",1),s("p",pa," On this page you can manage your "+p(e.getPaymentTokenName)+" allowance for the domain minting contract. Example: if you want to mint 5 domains and would like to avoid sending an approval transaction each time, set allowance to 5x the domain price. But if you instead want to remove the allowance completely, set it to 0. ",1),s("p",null,"Current allowance: "+p(e.getPaymentTokenAllowance)+" "+p(e.getPaymentTokenName),1),s("div",ha,[s("div",fa,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.newAllowance=c),class:"form-control text-center",placeholder:"Enter new allowance amount in "+this.getPaymentTokenName},null,8,ya),[[T,n.newAllowance]])])]),s("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[1]||(t[1]=(...c)=>i.approveToken&&i.approveToken(...c)),disabled:n.waiting||i.notValid},[n.waiting?(l(),d("span",_a)):u("",!0),ba],8,ga)])])])])])}var ka=C(oa,[["render",wa]]),va="/assets/chrome-logo.f7a9cfbf.png",Ta="/assets/firefox-logo.1191b73d.png";const Ca={name:"BrowserExtension",components:{Sidebar:z}},Da=e=>(E("data-v-29db68f1"),e=e(),N(),e),xa={class:"row"},Aa={class:"col-md-3",id:"sidebar-container"},Pa=Da(()=>s("div",{class:"col-md-9"},[s("div",{class:"row"},[s("div",{class:"col-md-12 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Browser Extension/Plugin"),s("p",{class:"text-wrap p-4"}," Punk Domains browser extension allows you to enter a Punk domain name in the URL bar and the extension will redirect you to the URL that is set for that domain. If no URL is set, the extension will redirect you to the domain page on the Punk Domains website. ")])])]),s("div",{class:"row"},[s("div",{class:"col-md-6 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Chrome/Brave/Edge/Opera"),s("p",null,[s("small",null,[s("em",null,[s("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"}," Download ")])])]),s("a",{target:"_blank",href:"https://chrome.google.com/webstore/detail/punk-domains/mdcmgmmealkedhjjpapbgoiabnkgieem"},[s("img",{class:"img-fluid browser-img mb-3",src:va})])])]),s("div",{class:"col-md-6 mb-3"},[s("div",{class:"container text-center"},[s("h3",null,"Firefox"),s("p",null,[s("small",null,[s("em",null,[s("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"}," Download ")])])]),s("a",{target:"_blank",href:"https://addons.mozilla.org/en-GB/firefox/addon/punk-domains/"},[s("img",{class:"img-fluid browser-img mb-3",src:Ta})])])])])],-1));function Sa(e,t,o,a,n,i){const r=x("Sidebar");return l(),d("div",xa,[s("div",Aa,[w(r)]),Pa])}var Ea=C(Ca,[["render",Sa],["__scopeId","data-v-29db68f1"]]);const Na={name:"EditOtherData",emits:["fetchData"],props:["domainData","tld","domainName","isCorrectChainForDomain"],data(){return{btnInactive:!1,fields:[],tldContract:null}},computed:D(h(h(h({},f("punk",["getTldAbi"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getTldAddress"])),{customData(){if(this.domainData)try{return JSON.parse(this.domainData.data)}catch{return null}return null},isOwner(){if(this.domainData)return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()}}),methods:D(h({},Y("user",["fetchSelectedNameData"])),{addField(){this.fields.push({dataKey:"",dataValue:""})},removeField(e){this.fields.splice(e,1)},shortUrl(e){if(typeof e=="string"&&e.length>42){let t=e.slice(e.length-15);return e.substr(0,32)+"..."+t}return e},async editData(){this.btnInactive=!0,this.tldContract||this.setContract();const e={};for(let t of this.fields)t.dataKey&&t.dataValue&&(e[t.dataKey]=t.dataValue);if(this.tldContract)try{const t=await this.tldContract.editData(this.domainName,JSON.stringify(e));document.getElementById("closeCustomDataModal").click();const o=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),a=await t.wait();a.status===1?(this.toast.dismiss(o),this.toast("You have successfully updated your domain's custom data!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),this.fetchSelectedNameData(),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(o),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+t.hash,"_blank").focus()}),console.log(a),this.btnInactive=!1)}catch(t){this.btnInactive=!1,console.log(t),this.toast(t.message,{type:m.ERROR})}},getTwitterUrl(e){if(typeof e=="string")return e.startsWith("http")?e:e.startsWith("www")||e.startsWith("twitter.com")?"https://"+e:(e.startsWith("@"),"https://twitter.com/"+e)},setContract(){if(this.address){const e=new b(this.getTldAbi);this.tldContract=new _(this.getTldAddress,e,this.signer)}}}),setup(){const{address:e,signer:t}=P(),o=R();return{address:e,signer:t,toast:o}},watch:{domainData(){if(this.domainData&&this.domainData.data){const e=JSON.parse(this.domainData.data);for(const[t,o]of Object.entries(e))this.fields.findIndex(a=>a.dataKey==t)===-1&&this.fields.push({dataKey:t,dataValue:o})}this.fields.findIndex(e=>e.dataKey=="imgAddress")===-1&&this.fields.push({dataKey:"imgAddress",dataValue:"",valuePlaceholder:"HTTP, or 0x address if NFT"}),this.fields.findIndex(e=>e.dataKey=="imgTokenId")===-1&&this.fields.push({dataKey:"imgTokenId",dataValue:"",valuePlaceholder:"Only needed if img is NFT"}),this.fields.findIndex(e=>e.dataKey=="content")===-1&&this.fields.push({dataKey:"content",dataValue:"",valuePlaceholder:"Add IPFS link"}),this.fields.findIndex(e=>e.dataKey=="url")===-1&&this.fields.push({dataKey:"url",dataValue:"",valuePlaceholder:"Add HTTP redirect URL"}),this.fields.findIndex(e=>e.dataKey=="twitter")===-1&&this.fields.push({dataKey:"twitter",dataValue:"",valuePlaceholder:"Enter your Twitter handle"}),this.isOwner&&this.isCorrectChainForDomain&&this.setContract()}}},ee=e=>(E("data-v-02aee1d3"),e=e(),N(),e),Ua={key:0},Ma={class:"col-sm-3 punk-title"},Ba={class:"col-sm-9 punk-text text-break"},Ia={key:0},$a=["href"],Ra={key:1},Fa=["href"],Oa={key:2},La=["href"],Va={key:3},Ha=["href"],Wa={key:4},Ka={key:1,class:"btn btn-primary btn-lg mx-3 mt-3","data-bs-toggle":"modal","data-bs-target":"#editDataModal"},ja={class:"modal fade text-start",id:"editDataModal",tabindex:"-1","aria-labelledby":"editDataModalLabel","aria-hidden":"true"},qa={class:"modal-dialog modal-dialog-centered"},Ya={class:"modal-content"},Ja=ee(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editDataModalLabel"},"Edit other data"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Ga={class:"modal-body"},za=ee(()=>s("p",null," You can add custom data to this domain. ",-1)),Xa=ee(()=>s("p",null," Example: twitter -> @myhandle ",-1)),Qa={class:"input-group mb-3 mt-4"},Za=["onUpdate:modelValue"],ei=ee(()=>s("span",{class:"input-group-text"},[s("i",{class:"bi bi-arrow-right"})],-1)),ti=["onUpdate:modelValue","placeholder"],si=["onClick"],ni=ee(()=>s("i",{class:"bi bi-x-circle"},null,-1)),ai=[ni],ii={class:"modal-footer"},oi=["disabled"],ri=ee(()=>s("button",{id:"closeCustomDataModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function li(e,t,o,a,n,i){return l(),d(I,null,[i.customData?(l(),d("div",Ua,[(l(!0),d(I,null,te(i.customData,(r,c)=>(l(),d("div",{class:"mb-3 row domain-data mt-4",key:c},[s("div",Ma,p(c.charAt(0).toUpperCase()+c.slice(1)),1),s("div",Ba,[c=="imgAddress"&&r.startsWith("http")?(l(),d("span",Ia,[s("a",{target:"_blank",href:r},p(i.shortUrl(r)),9,$a)])):c=="content"?(l(),d("span",Ra,[s("a",{target:"_blank",href:r},p(r),9,Fa)])):c=="url"?(l(),d("span",Oa,[s("a",{target:"_blank",href:r},p(r),9,La)])):c=="twitter"?(l(),d("span",Va,[s("a",{target:"_blank",href:i.getTwitterUrl(r)},p(r),9,Ha)])):(l(),d("span",Wa,p(r),1))])]))),128))])):u("",!0),i.isOwner&&o.isCorrectChainForDomain?(l(),d("button",Ka," Edit data ")):u("",!0),s("div",ja,[s("div",qa,[s("div",Ya,[Ja,s("div",Ga,[za,Xa,n.fields?(l(!0),d(I,{key:0},te(n.fields,(r,c)=>(l(),d("div",Qa,[v((l(),d("input",{type:"text",key:"dataKey"+c,class:"form-control","onUpdate:modelValue":y=>r.dataKey=y,placeholder:"Enter key (like twitter)"},null,8,Za)),[[T,r.dataKey]]),ei,v((l(),d("input",{type:"text",class:"form-control",key:"dataValue"+c,"onUpdate:modelValue":y=>r.dataValue=y,placeholder:r.valuePlaceholder?r.valuePlaceholder:"Enter value"},null,8,ti)),[[T,r.dataValue]]),s("span",{class:"input-group-text",onClick:y=>i.removeField(c)},ai,8,si)]))),256)):u("",!0),s("button",{class:"btn btn-secondary btn-sm",onClick:t[0]||(t[0]=(...r)=>i.addField&&i.addField(...r))}," Add new field ")]),s("div",ii,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...r)=>i.editData&&i.editData(...r)),disabled:n.btnInactive},"Submit",8,oi),ri])])])])],64)}var di=C(Na,[["render",li],["__scopeId","data-v-02aee1d3"]]);const ci={name:"EditPfp",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputPfpAddress:null,inputPfpId:null,tldContract:null,btnInactive:!1}},computed:D(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl"])),{customPfp(){return this.domainData.pfpAddress!=O?this.shortenAddress(this.domainData.pfpAddress)+" (token ID: "+this.domainData.pfpTokenId+")":"Custom PFP not set yet."},isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},pfpAddress(){return this.domainData.pfpAddress!=O?this.domainData.pfpAddress:null}}),methods:{async editPfp(){this.btnInactive=!0;const e=this.inputPfpAddress,t=this.inputPfpId,o=new b(["function ownerOf(uint256 tokenId) public view returns (address)"]),a=new _(e,o,this.signer);let n;try{n=await a.ownerOf(t)}catch(i){this.btnInactive=!1,console.log(i),this.toast(i.message,{type:m.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}if(n&&String(this.address).toLowerCase()!=String(n).toLowerCase())this.toast("It looks like your current address is not this NFT owner.",{type:m.ERROR}),this.btnInactive=!1,this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId;else if(n&&String(this.address).toLowerCase()===String(n).toLowerCase()&&(this.tldContract||this.setContract(),this.tldContract))try{const i=await this.tldContract.editPfp(this.domainName,e,t);document.getElementById("closePfpModal").click();const r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),c=await i.wait();c.status===1?(this.btnInactive=!1,this.toast.dismiss(r),this.toast("You have successfully updated your PFP data!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.$emit("fetchData")):(this.btnInactive=!1,this.toast.dismiss(r),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(c),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}catch(i){this.btnInactive=!1,console.log(i),this.toast(i.message,{type:m.ERROR}),this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId}},setContract(){const e=new b(this.getTldAbi);this.tldContract=new _(this.getTldAddress,e,this.signer)}},setup(){const{address:e,signer:t}=P(),o=R();return{address:e,shortenAddress:Q,signer:t,toast:o}},watch:{domainData(){this.domainData.pfpAddress!=O&&(this.inputPfpAddress=this.domainData.pfpAddress,this.inputPfpId=this.domainData.pfpTokenId)}}},se=e=>(E("data-v-678dab1c"),e=e(),N(),e),ui={key:0,class:"mb-3 row domain-data mt-4"},mi=se(()=>s("div",{class:"col-sm-3 punk-title"}," Custom PFP ",-1)),pi={class:"col-sm-9 punk-text"},hi={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editPfpModal"},fi={class:"modal fade text-start",id:"editPfpModal",tabindex:"-1","aria-labelledby":"editPfpModalLabel","aria-hidden":"true"},yi={class:"modal-dialog modal-dialog-centered"},gi={class:"modal-content"},_i=se(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editPfpModalLabel"},"Edit PFP"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),bi={class:"modal-body"},wi={key:0,class:"mb-3"},ki=se(()=>s("label",{class:"form-label"},"Enter NFT address:",-1)),vi={key:1,class:"mb-3"},Ti=se(()=>s("label",{class:"form-label"},"Enter NFT token ID:",-1)),Ci={class:"modal-footer"},Di=["disabled"],xi=se(()=>s("button",{id:"closePfpModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Ai(e,t,o,a,n,i){return l(),d(I,null,[o.domainData?(l(),d("div",ui,[mi,s("div",pi,[s("span",null,p(i.customPfp),1),i.isOwner?(l(),d("button",hi,"Edit")):u("",!0)])])):u("",!0),s("div",fi,[s("div",yi,[s("div",gi,[_i,s("div",bi,[s("p",null," Enter the address and token ID of an NFT that you own and want to designate as the main PFP of the "+p(o.domainName)+"."+p(o.tld)+" domain. ",1),o.domainData?(l(),d("div",wi,[ki,v(s("input",{type:"text",class:"form-control",placeholder:"0x...","onUpdate:modelValue":t[0]||(t[0]=r=>n.inputPfpAddress=r)},null,512),[[T,n.inputPfpAddress]])])):u("",!0),o.domainData?(l(),d("div",vi,[Ti,v(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=r=>n.inputPfpId=r)},null,512),[[T,n.inputPfpId]])])):u("",!0)]),s("div",Ci,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...r)=>i.editPfp&&i.editPfp(...r)),disabled:n.btnInactive},"Edit PFP data",8,Di),xi])])])])],64)}var Pi=C(ci,[["render",Ai],["__scopeId","data-v-678dab1c"]]);const Si={name:"EditUrl",emits:["fetchData"],props:["domainData","tld","domainName"],data(){return{inputUrl:null,tldContract:null,btnInactive:!1}},computed:D(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl"])),{isOwner(){return String(this.address).toLowerCase()===String(this.domainData.holder).toLowerCase()},urlData(){return this.domainData.url?this.domainData.url:"Redirect URL not set yet."}}),methods:{async editUrl(){if(this.btnInactive=!0,this.tldContract||this.setContract(),this.tldContract)try{const e=await this.tldContract.editUrl(this.domainName,this.inputUrl);document.getElementById("closeUrlModal").click();const t=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),o=await e.wait();o.status===1?(this.toast.dismiss(t),this.toast("You have successfully updated the URL!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),this.$emit("fetchData"),this.btnInactive=!1):(this.toast.dismiss(t),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+e.hash,"_blank").focus()}),console.log(o),this.btnInactive=!1,this.inputUrl=this.domainData.url)}catch(e){this.btnInactive=!1,console.log(e),this.toast(e.message,{type:m.ERROR}),this.inputUrl=this.domainData.url}},setContract(){const e=new b(this.getTldAbi);this.tldContract=new _(this.getTldAddress,e,this.signer)}},setup(){const{address:e,signer:t}=P(),o=R();return{address:e,signer:t,toast:o}},watch:{domainData(){this.inputUrl=this.domainData.url}}},me=e=>(E("data-v-7059acba"),e=e(),N(),e),Ei={key:0,class:"mb-3 row domain-data mt-4"},Ni=me(()=>s("div",{class:"col-sm-3 punk-title"}," URL ",-1)),Ui={class:"col-sm-9 punk-text"},Mi={key:0,class:"btn btn-primary btn-sm mx-3","data-bs-toggle":"modal","data-bs-target":"#editUrlModal"},Bi={class:"modal fade",id:"editUrlModal",tabindex:"-1","aria-labelledby":"editUrlModalLabel","aria-hidden":"true"},Ii={class:"modal-dialog modal-dialog-centered"},$i={class:"modal-content"},Ri=me(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"editUrlModalLabel"},"Edit URL"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Fi={class:"modal-body"},Oi={key:0,class:"mb-3"},Li={class:"modal-footer"},Vi=["disabled"],Hi=me(()=>s("button",{id:"closeUrlModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function Wi(e,t,o,a,n,i){return l(),d(I,null,[o.domainData?(l(),d("div",Ei,[Ni,s("div",Ui,[s("span",null,p(i.urlData),1),i.isOwner?(l(),d("button",Mi,"Edit")):u("",!0)])])):u("",!0),s("div",Bi,[s("div",Ii,[s("div",$i,[Ri,s("div",Fi,[o.domainData?(l(),d("div",Oi,[v(s("input",{type:"text",class:"form-control",placeholder:"Enter URL","onUpdate:modelValue":t[0]||(t[0]=r=>n.inputUrl=r)},null,512),[[T,n.inputUrl]])])):u("",!0)]),s("div",Li,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...r)=>i.editUrl&&i.editUrl(...r)),disabled:n.btnInactive},"Edit URL",8,Vi),Hi])])])])],64)}var Ki=C(Si,[["render",Wi],["__scopeId","data-v-7059acba"]]);const ji={name:"DomainDetails",props:["domainChain","tld","domainName"],components:{EditOtherData:di,EditPfp:Pi,EditUrl:Ki,Sidebar:z},data(){return{loadingData:!1,tldContract:null,domainData:null,pfpImage:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg"}},created(){!this.tldContract&&this.isCorrectChainForDomain&&this.setContract(),this.fetchData()},computed:D(h(h(h({},f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),f("network",["getBlockExplorerBaseUrl","getChainId","getSupportedNetworks","isNetworkSupported"])),{holderData(){return this.domainData.holder!==O?this.domainData.holder:"This domain name is not owned by anyone yet."},isCorrectChainForDomain(){return Number(this.domainChain)===Number(this.getChainId)}}),methods:{async fetchData(){this.loadingData=!0;const e=this.getFallbackProvider(Number(this.domainChain)),t=new b(H),o=new _($[this.domainChain]["."+this.tld],t,e);if(o&&(this.domainData=await o.domains(this.domainName),this.domainData&&this.domainData.holder!==O)){let a=await o.tokenURI(this.domainData.tokenId),n=!0;if(this.domainData.data){const i=JSON.parse(this.domainData.data);if(i.imgAddress)if(!i.imgAddress.startsWith("0x"))this.pfpImage=i.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/"),n=!1;else if(i.imgAddress){const r=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);a=await new _(i.imgAddress,r,e).tokenURI(i.imgTokenId)}else a=await o.tokenURI(i.imgTokenId);if(a.includes("ipfs://")&&(a=a.replace("ipfs://","https://ipfs.io/ipfs/")),a.includes("http")){const c=await(await fetch(a)).json();c&&c.image&&(this.pfpImage=c.image.replace("ipfs://","https://ipfs.io/ipfs/"),n=!1)}}if(a&&n){const i=atob(a.substring(29)),r=JSON.parse(i);r&&r.image&&(this.pfpImage=r.image)}}this.loadingData=!1},setContract(){const e=new b(this.getTldAbi);this.tldContract=new _(this.getTldAddress,e,this.signer)}},setup(){const{isActivated:e,signer:t}=P(),o=R(),{getChainName:a,getFallbackProvider:n}=V();return{getChainName:a,getFallbackProvider:n,isActivated:e,signer:t,toast:o}}},le=e=>(E("data-v-0de8f347"),e=e(),N(),e),qi={class:"row"},Yi={class:"col-md-3",id:"sidebar-container"},Ji={class:"col-md-9"},Gi={class:"row"},zi={class:"col-md-12"},Xi={class:"container text-center"},Qi=["src"],Zi={key:0,class:"mb-3 text-center mt-4"},eo=le(()=>s("span",{class:"spinner-border spinner-border-lg",role:"status","aria-hidden":"true"},null,-1)),to=[eo],so={key:1,class:"mb-3 row domain-data mt-4"},no=le(()=>s("div",{class:"col-sm-3 punk-title"}," Holder address ",-1)),ao={class:"col-sm-9 punk-text text-break"},io=["href"],oo=le(()=>s("i",{class:"bi bi-box-arrow-up-right"},null,-1)),ro=[oo],lo={class:"mb-3 row domain-data mt-4"},co=le(()=>s("div",{class:"col-sm-3 punk-title"}," Network ",-1)),uo={class:"col-sm-9 punk-text text-break"};function mo(e,t,o,a,n,i){const r=x("Sidebar"),c=x("EditOtherData");return l(),d("div",qi,[s("div",Yi,[w(r)]),s("div",Ji,[s("div",Gi,[s("div",zi,[s("div",Xi,[s("h3",null,p(o.domainName)+"."+p(o.tld),1),s("img",{class:"img-thumbnail domain-image",src:n.pfpImage},null,8,Qi),n.loadingData?(l(),d("div",Zi,to)):u("",!0),n.domainData?(l(),d("div",so,[no,s("div",ao,[k(p(i.holderData)+" ",1),s("a",{href:e.getBlockExplorerBaseUrl+"/address/"+i.holderData,target:"_blank"},ro,8,io)])])):u("",!0),s("div",lo,[co,s("div",uo,p(a.getChainName(Number(o.domainChain))),1)]),w(c,{domainData:n.domainData,tld:o.tld,domainName:o.domainName,isCorrectChainForDomain:i.isCorrectChainForDomain,onFetchData:i.fetchData},null,8,["domainData","tld","domainName","isCorrectChainForDomain","onFetchData"])])])])])])}var po=C(ji,[["render",mo],["__scopeId","data-v-0de8f347"]]);const ho={name:"Referral",computed:D(h({},f("user",["getUserAddress","getUserSelectedName"])),{getNameOrAddress(){return this.getUserSelectedName?this.getUserSelectedName:this.getUserAddress}}),methods:{copyToClipboard(e){navigator.clipboard.writeText(e),this.toast("Referral link copied to your clipboard!",{type:m.SUCCESS})}},setup(){return{toast:R()}}},De=e=>(E("data-v-19e1e2aa"),e=e(),N(),e),fo={class:"row"},yo={class:"col-md-12 mt-3"},go={class:"container text-center"},_o=De(()=>s("h3",null,"Referrals",-1)),bo=De(()=>s("p",null," Share this referral link and earn rewards from new domain mints! ",-1)),wo={class:"row mt-1"},ko={class:"col-md-6 offset-md-3"},vo=["value"];function To(e,t,o,a,n,i){return l(),d("div",fo,[s("div",yo,[s("div",go,[_o,bo,s("div",wo,[s("div",ko,[s("input",{class:"form-control text-center clipboard",value:"https://names.pooly.me/?ref="+this.getNameOrAddress,onClick:t[0]||(t[0]=r=>i.copyToClipboard("https://names.pooly.me/?ref="+this.getNameOrAddress)),readonly:""},null,8,vo)])])])])])}var xe=C(ho,[["render",To],["__scopeId","data-v-19e1e2aa"]]),Co="/assets/pool-logo.77473a12.svg";const Do={name:"Home",data(){return{chosenDomainName:null,chosenAllowance:null,loading:!1,waiting:!1,minterContract:null}},components:{Referral:xe},computed:D(h(h(h({},f("user",["getPaymentTokenAddress","getPaymentTokenName","getPaymentTokenAllowance","getUserBalance","getCanUserBuy","getDiscountEligible"])),f("network",["getBlockExplorerBaseUrl"])),f("tld",["getTldChainId","getTldChainName","getMinterAddress","getTldContract","getMinterLoadingData","getMinterTldPrice1","getMinterTldPrice2","getMinterTldPrice3","getMinterTldPrice4","getMinterTldPrice5","getMinterPaused","getMinterDiscountPercentage","getTldName"])),{getPrice(){if(this.chosenDomainName){if(this.chosenDomainName.match(/./gu).length===1)return this.getMinterTldPrice1;if(this.chosenDomainName.match(/./gu).length===2)return this.getMinterTldPrice2;if(this.chosenDomainName.match(/./gu).length===3)return this.getMinterTldPrice3;if(this.chosenDomainName.match(/./gu).length===4)return this.getMinterTldPrice4}return this.getMinterTldPrice5},domainLowerCase(){return this.chosenDomainName.toLowerCase()},hasUserEnoughTokens(){return!!(this.address&&Number(this.getUserBalance)>0&&Number(this.getUserBalance)>=Number(this.getPrice))},isNetworkSupported(){return!!(this.isActivated&&this.chainId===this.getTldChainId)},isSamePrice(){return this.getMinterTldPrice1==this.getMinterTldPrice2&&this.getMinterTldPrice1==this.getMinterTldPrice3&&this.getMinterTldPrice1==this.getMinterTldPrice4&&this.getMinterTldPrice1==this.getMinterTldPrice5}}),methods:D(h(h({},Y("user",["fetchCanUserBuy","getPaymentTokenDecimals"])),J("user",["addDomainManually","setPaymentTokenAllowance"])),{async buyDomain(){this.waiting=!0;const e=this.domainLowerCase+this.getTldName;if(await this.getTldContract.getDomainHolder(this.domainLowerCase)!==O){this.toast("Sorry, but this domain name is already taken...",{type:m.ERROR}),this.waiting=!1;return}const o=new b(K),a=new _(this.getMinterAddress,o,this.signer);try{let n=localStorage.getItem("referral");(!n||!X(n))&&(n=O);const i=await a.mint(this.domainLowerCase,this.address,n,{value:we(String(this.getPrice))}),r=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),c=await i.wait();c.status===1?(this.toast.dismiss(r),this.toast("You have successfully bought the domain!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),this.addDomainManually(e),this.waiting=!1):(this.toast.dismiss(r),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+i.hash,"_blank").focus()}),console.log(c),this.waiting=!1)}catch(n){console.log(n),this.waiting=!1,this.toast(n.message,{type:m.ERROR})}this.waiting=!1},changeNetwork(e){const t=this.switchNetwork(e);window.ethereum.request({method:t.method,params:t.params})}}),setup(){const{open:e}=ge(),{address:t,chainId:o,isActivated:a,signer:n}=P(),i=R(),{buyNotValid:r}=Te(),{switchNetwork:c}=V();return{address:t,buyNotValid:r,chainId:o,isActivated:a,open:e,signer:n,switchNetwork:c,toast:i}}},L=e=>(E("data-v-4e4ade10"),e=e(),N(),e),xo={class:"container text-center"},Ao=L(()=>s("img",{class:"img-fluid main-img rounded",src:Co},null,-1)),Po={class:"text-align-header mt-4 mb-2"},So={class:"d-flex justify-content-center domain-input-container mb-3 mt-5"},Eo={class:"input-group domain-input input-group-lg input-sizing"},No={class:"input-group-text tld-addon border-2 border-light"},Uo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Mo={class:"error"},Bo={key:0},Io={class:"text-align-header"},$o={class:"mt-5 price-text"},Ro={key:0,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:!0},Fo={key:0},Oo={key:1,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:!0},Lo=L(()=>s("span",{class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},null,-1)),Vo=L(()=>s("span",null,"Loading data",-1)),Ho=[Lo,Vo],Wo=["disabled"],Ko=L(()=>s("span",null,"Not eligible for buying",-1)),jo=[Ko],qo=["disabled"],Yo=["disabled"],Jo={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Go=L(()=>s("span",null,"Buy domain",-1)),zo={key:6,class:"mt-4"},Xo={key:7,class:"row mt-5"},Qo={class:"col-md-6 offset-md-3 table-container"},Zo={class:"table table-borderless table-ppl"},er=L(()=>s("thead",{class:"table-light"},[s("tr",null,[s("th",{scope:"col"},"Name length"),s("th",{scope:"col"},"Price")])],-1)),tr=L(()=>s("td",null,"1 character",-1)),sr=L(()=>s("td",null,"2 characters",-1)),nr=L(()=>s("td",null,"3 characters",-1)),ar=L(()=>s("td",null,"4 characters",-1)),ir=L(()=>s("td",null,"5+ characters",-1));function or(e,t,o,a,n,i){const r=x("Referral");return l(),d(I,null,[s("div",xo,[Ao,s("div",Po,[s("h1",null,"Mint your "+p(e.getTldName)+" web3 username!",1)]),s("div",So,[s("div",Eo,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.chosenDomainName=c),placeholder:"enter desired name",type:"text",class:"form-control text-end border-2 border-end-0 border-light","aria-label":"Text input with dropdown button"},null,512),[[T,n.chosenDomainName]]),s("span",No,[n.loading?(l(),d("span",Uo)):u("",!0),s("span",null,p(e.getTldName),1)])])]),s("p",Mo,[a.buyNotValid(n.chosenDomainName).invalid?(l(),d("small",Bo,[s("em",null,p(a.buyNotValid(n.chosenDomainName).message),1)])):u("",!0)]),s("div",Io,[s("p",$o," Domain price: "+p(i.getPrice)+" "+p(e.getPaymentTokenName),1)]),a.isActivated&&e.getMinterPaused&&!e.getMinterLoadingData?(l(),d("button",Ro,[e.getMinterPaused?(l(),d("span",Fo,"Buying paused")):u("",!0)])):u("",!0),a.isActivated&&i.isNetworkSupported&&e.getMinterLoadingData?(l(),d("button",Oo,Ho)):u("",!0),a.isActivated&&i.isNetworkSupported&&!e.getMinterPaused&&!e.getCanUserBuy&&!e.getMinterLoadingData?(l(),d("button",{key:2,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:n.waiting||a.buyNotValid(n.chosenDomainName).invalid||!i.hasUserEnoughTokens},jo,8,Wo)):u("",!0),a.isActivated&&i.isNetworkSupported&&!e.getMinterPaused&&!i.hasUserEnoughTokens&&e.getCanUserBuy&&!e.getMinterLoadingData?(l(),d("button",{key:3,class:"btn btn-primary btn-lg mt-3 buy-button",disabled:n.waiting||a.buyNotValid(n.chosenDomainName).invalid||!i.hasUserEnoughTokens},[s("span",null,"Your "+p(e.getPaymentTokenName)+" balance is too low",1)],8,qo)):u("",!0),a.isActivated&&i.isNetworkSupported&&e.getCanUserBuy&&!e.getMinterPaused&&i.hasUserEnoughTokens&&!e.getMinterLoadingData?(l(),d("button",{key:4,class:"btn btn-primary btn-lg mt-3 buy-button",onClick:t[1]||(t[1]=(...c)=>i.buyDomain&&i.buyDomain(...c)),disabled:n.waiting||a.buyNotValid(n.chosenDomainName).invalid||!i.hasUserEnoughTokens},[n.waiting?(l(),d("span",Jo)):u("",!0),Go],8,Yo)):u("",!0),a.isActivated?u("",!0):(l(),d("button",{key:5,class:"btn btn-primary btn-lg mt-3 btn-Disconnected",onClick:t[2]||(t[2]=(...c)=>a.open&&a.open(...c))},"Connect wallet")),a.isActivated&&!i.isNetworkSupported?(l(),d("div",zo,[s("button",{class:"btn btn-primary btn-lg btn-Disconnected",onClick:t[3]||(t[3]=c=>i.changeNetwork(this.getTldChainName))},"Switch to "+p(e.getTldChainName),1)])):u("",!0),i.isSamePrice?u("",!0):(l(),d("div",Xo,[s("div",Qo,[s("table",Zo,[er,s("tbody",null,[s("tr",null,[tr,s("td",null,p(e.getMinterTldPrice1)+" "+p(e.getPaymentTokenName),1)]),s("tr",null,[sr,s("td",null,p(e.getMinterTldPrice2)+" "+p(e.getPaymentTokenName),1)]),s("tr",null,[nr,s("td",null,p(e.getMinterTldPrice3)+" "+p(e.getPaymentTokenName),1)]),s("tr",null,[ar,s("td",null,p(e.getMinterTldPrice4)+" "+p(e.getPaymentTokenName),1)]),s("tr",null,[ir,s("td",null,p(e.getMinterTldPrice5)+" "+p(e.getPaymentTokenName),1)])])])])]))]),a.isActivated?(l(),oe(r,{key:0})):u("",!0)],64)}var rr=C(Do,[["render",or],["__scopeId","data-v-4e4ade10"]]);const lr={name:"HowItWorks"},Ae=e=>(E("data-v-1a9c5139"),e=e(),N(),e),dr={class:"container"},cr=Ae(()=>s("h1",{class:"text-center"},"How it works",-1)),ur=Ae(()=>s("div",{class:"row mt-3"},[s("div",{class:"col-md-8 offset-md-2"},[s("p",null,[k(" Read the Docs "),s("a",{href:"https://docs.punk.domains/"},"Here!")])])],-1)),mr=[cr,ur];function pr(e,t,o,a,n,i){return l(),d("div",dr,mr)}var hr=C(lr,[["render",pr],["__scopeId","data-v-1a9c5139"]]);const fr={name:"MyDomain",props:["domain"],computed:D(h(h(h(h({},f("punk",["getTldAbi"])),f("network",["getChainId","getBlockExplorerBaseUrl"])),f("user",["getUserSelectedName"])),f("tld",["getTldAddress"])),{getDomainName(){return this.domain?this.domain.split(".")[0]:""}}),data(){return{waiting:!1}},methods:D(h(h({},Y("user",["fetchSelectedNameData"])),J("user",["setSelectedName"])),{async setAsDefaultName(){this.waiting=!0;try{const e=new b(this.getTldAbi),o=await new _(this.getTldAddress,e,this.signer).editDefaultDomain(this.getDomainName),a=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),n=await o.wait();n.status===1?(this.toast.dismiss(a),this.toast("You have successfully set "+this.domain+" as your default domain!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),this.waiting=!1,document.getElementById("closeDefaultDomainModal"+this.getDomainName).click(),this.setSelectedName(this.domain),this.fetchSelectedNameData()):(this.toast.dismiss(a),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+o.hash,"_blank").focus()}),console.log(n),this.waiting=!1,document.getElementById("closeDefaultDomainModal"+this.getDomainName).click())}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:m.ERROR}),document.getElementById("closeDefaultDomainModal"+this.getDomainName).click()}}}),setup(){const{address:e,signer:t}=P(),o=R();return{address:e,signer:t,toast:o}}},pe=e=>(E("data-v-3e48f289"),e=e(),N(),e),yr={key:0},gr=pe(()=>s("i",{class:"bi bi-check2-circle"},null,-1)),_r=k(" Default "),br=[gr,_r],wr=["data-bs-target"],kr=["id","aria-labelledby"],vr={class:"modal-dialog modal-dialog-centered"},Tr={class:"modal-content"},Cr={class:"modal-header"},Dr=["id"],xr=pe(()=>s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),Ar={class:"modal-body"},Pr=k(" Do you really want to set "),Sr=k(" as your default domain name? "),Er=pe(()=>s("p",null," (This action will require an on-chain transaction.) ",-1)),Nr={class:"modal-footer"},Ur=["disabled"],Mr={key:0,class:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true"},Br=k(" Set as default "),Ir=["id"];function $r(e,t,o,a,n,i){return l(),d(I,null,[s("td",null,[s("span",null,p(o.domain),1)]),s("td",null,[s("span",{class:"text-click",onClick:t[0]||(t[0]=r=>this.$router.push({name:"DomainDetails",params:{domainChain:e.getChainId,tld:o.domain.split(".")[1],domainName:o.domain.split(".")[0]}}))}," Edit domain data ")]),s("td",null,[s("span",{class:"text-click",onClick:t[1]||(t[1]=r=>this.$router.push({name:"TransferDomain",params:{tld:o.domain.split(".")[1],domainName:o.domain.split(".")[0]}}))}," Transfer domain ")]),s("td",null,[e.getUserSelectedName===o.domain?(l(),d("span",yr,br)):(l(),d("span",{key:1,class:"text-click","data-bs-toggle":"modal","data-bs-target":"#defaultNameModal"+i.getDomainName}," Set as default name ",8,wr))]),s("div",{class:"modal fade text-start",id:"defaultNameModal"+i.getDomainName,tabindex:"-1","aria-labelledby":"defaultNameModalLabel"+i.getDomainName,"aria-hidden":"true"},[s("div",vr,[s("div",Tr,[s("div",Cr,[s("h5",{class:"modal-title",id:"defaultNameModalLabel"+i.getDomainName},"Set "+p(o.domain)+" as default domain",9,Dr),xr]),s("div",Ar,[s("p",null,[Pr,s("strong",null,p(o.domain),1),Sr]),Er]),s("div",Nr,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...r)=>i.setAsDefaultName&&i.setAsDefaultName(...r)),disabled:n.waiting},[n.waiting?(l(),d("span",Mr)):u("",!0),Br],8,Ur),s("button",{id:"closeDefaultDomainModal"+i.getDomainName,type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",8,Ir)])])])],8,kr)],64)}var Rr=C(fr,[["render",$r],["__scopeId","data-v-3e48f289"]]);const Fr={name:"Profile",data(){return{existingDomain:null,loading:!1}},components:{MyDomain:Rr,Referral:xe,Sidebar:z},computed:D(h(h({},f("tld",["getTldAddress","getTldName"])),f("user",["getUserAddress","getPaymentTokenName","getUserSelectedNameData","getUserAllDomainNames","getPaymentTokenAddress","getPaymentTokenAllowance","getUserBalance","getPaymentTokenContract"])),{customData(){if(this.getUserSelectedNameData)try{return JSON.parse(this.getUserSelectedNameData.data)}catch{return null}return null},domainNotValid(){if(this.existingDomain==="")return!0;if(this.existingDomain===null)return!0;if(this.existingDomain.split(".").length!=2)return!0;if(this.existingDomain.includes(" "))return!0;if(this.existingDomain.includes("%"))return!0;if(this.existingDomain.includes("&"))return!0;if(this.existingDomain.includes("?"))return!0;if(this.existingDomain.includes("#"))return!0;if(!this.existingDomain.includes(this.getTldName))return!0}}),methods:D(h({},J("user",["addDomainManually"])),{async addExistingDomain(){const e=this.existingDomain.toLowerCase(),t=e.split("."),o=new b(H),n=await new _(this.getTldAddress,o,this.signer).getDomainHolder(t[0]);String(n)===String(this.address)?(this.addDomainManually(e),this.toast("Domain successfully added.",{type:m.SUCCESS})):this.toast("This domain is not owned by your currently connected address.",{type:m.ERROR})}}),setup(){const{address:e,isActivated:t,signer:o}=P(),a=R(),{getFallbackProvider:n}=V();return{address:e,getFallbackProvider:n,isActivated:t,signer:o,toast:a}}},j=e=>(E("data-v-69edde43"),e=e(),N(),e),Or={class:"row"},Lr={class:"col-md-3",id:"sidebar-container"},Vr={class:"col-md-9"},Hr={key:0,class:"row"},Wr=_e('<div class="col-md-12 mb-3" data-v-69edde43><div class="container text-center" data-v-69edde43><h3 data-v-69edde43><i class="bi bi-exclamation-triangle" data-v-69edde43></i> Not connected <i class="bi bi-exclamation-triangle" data-v-69edde43></i></h3><p class="text-break" data-v-69edde43> Please connect with your wallet to see your profile data. </p></div></div>',1),Kr=[Wr],jr={key:1,class:"row"},qr={class:"col-md-6 mb-3"},Yr={class:"container text-center"},Jr=j(()=>s("h3",null,"Address",-1)),Gr={class:"text-break"},zr={class:"col-md-6 mb-3"},Xr={class:"container text-center"},Qr=j(()=>s("h3",null,"Balance",-1)),Zr={class:"text-break"},el={class:"row"},tl={class:"col-md-12"},sl={class:"container"},nl=j(()=>s("h3",null,"Domains",-1)),al={class:"table table-hover mt-4 mb-4"},il={key:0},ol=j(()=>s("small",null,[s("em",null,[k(" Don't see your domain here? "),s("span",{class:"span-link","data-bs-toggle":"modal","data-bs-target":"#addDomainModal"}," Add it manually"),k(". ")])],-1)),rl=[ol],ll={key:1},dl=k(" No domain? No worries, "),cl=k("buy yourself one here!"),ul={class:"modal fade",id:"addDomainModal",tabindex:"-1","aria-labelledby":"addDomainModalLabel","aria-hidden":"true","modal-dialog-centered":""},ml={class:"modal-dialog"},pl={class:"modal-content"},hl=j(()=>s("div",{class:"modal-header"},[s("h5",{class:"modal-title",id:"addDomainModalLabel"},"Add your existing domain"),s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),fl={class:"modal-body"},yl={class:"mb-3"},gl=j(()=>s("label",{for:"recipient-name",class:"col-form-label"},"Enter your existing domain:",-1)),_l=j(()=>s("small",null,[s("em",null,"No transaction will be made, this is a free query.")],-1)),bl={class:"modal-footer"},wl=["disabled"],kl=j(()=>s("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function vl(e,t,o,a,n,i){const r=x("Sidebar"),c=x("MyDomain"),y=x("router-link"),M=x("Referral");return l(),d(I,null,[s("div",Or,[s("div",Lr,[w(r)]),s("div",Vr,[a.isActivated?u("",!0):(l(),d("div",Hr,Kr)),a.isActivated?(l(),d("div",jr,[s("div",qr,[s("div",Yr,[Jr,s("p",Gr,p(e.getUserAddress),1)])]),s("div",zr,[s("div",Xr,[Qr,s("p",Zr,p(e.getUserBalance)+" "+p(this.getPaymentTokenName),1)])])])):u("",!0),s("div",el,[s("div",tl,[s("div",sl,[nl,s("table",al,[s("tbody",null,[(l(!0),d(I,null,te(e.getUserAllDomainNames,A=>(l(),d("tr",{key:A},[w(c,{domain:A},null,8,["domain"])]))),128))])]),e.getUserSelectedNameData?(l(),d("p",il,rl)):(l(),d("p",ll,[dl,w(y,{to:"/"},{default:S(()=>[cl]),_:1})]))])])]),w(M)])]),s("div",ul,[s("div",ml,[s("div",pl,[hl,s("div",fl,[s("div",yl,[gl,v(s("input",{type:"text",placeholder:"Enter domain",class:"form-control border-2",id:"recipient-name","onUpdate:modelValue":t[0]||(t[0]=A=>n.existingDomain=A)},null,512),[[T,n.existingDomain]]),_l])]),s("div",bl,[s("button",{type:"button",onClick:t[1]||(t[1]=(...A)=>i.addExistingDomain&&i.addExistingDomain(...A)),class:"btn btn-secondary",disabled:i.domainNotValid},"Add domain",8,wl),kl])])])])],64)}var Tl=C(Fr,[["render",vl],["__scopeId","data-v-69edde43"]]);const Cl={name:"SendTokensComponent",data(){return{domainError:null,filterTokens:null,receiver:null,receiverAddress:null,tokenBalance:0,selectedToken:null,selectedTokenDecimals:null,tokenAmount:null,waiting:!1,validating:!1}},created(){this.address&&this.getTokens&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=G(this.balance),this.getTokenBalance(this.selectedToken))},computed:D(h(h(h(h({},f("network",["getBlockExplorerBaseUrl","getChainId","getNetworkName","getTokens"])),f("user",["getUserBalance"])),f("punk",["getTldAbi"])),f("tld",["getTldAddress"])),{domainLowerCase(){return this.receiver?this.receiver.toLowerCase():null},formatTokenBalance(){return this.tokenBalance>100?Number(this.tokenBalance).toFixed(2):Number(this.tokenBalance).toFixed(4)},getTokenNames(){if(this.getTokens&&!this.filterTokens)return Object.keys(this.getTokens);if(this.getTokens&&this.filterTokens)return Object.keys(this.getTokens).filter(e=>e.includes(this.filterTokens.toUpperCase()))},notValid(){if(this.receiver)if(this.receiver.includes(".")){if(this.receiver.includes(" "))return!0;if(this.receiver.includes("%"))return!0;if(this.receiver.includes("&"))return!0;if(this.receiver.includes("?"))return!0;if(this.receiver.includes("#"))return!0;if(this.receiver.includes("/"))return!0;if(this.tokenAmount){if(isNaN(this.tokenAmount))return!0;if(Number(this.tokenAmount)<=0)return!0;if(Number(this.tokenAmount)>Number(this.tokenBalance))return!0}else return!0}else return!0;else return!0;return!1}}),methods:{async getTokenBalance(e){const t=this.getTokens[e];if(t==="0x0")this.tokenBalance=G(this.balance);else{const o=new b(ue),a=new _(t,o,this.signer),n=await a.balanceOf(this.address);if(Number(n)>0){const i=await a.decimals();this.selectedTokenDecimals=Number(i),this.tokenBalance=He(n,this.selectedTokenDecimals)}else this.tokenBalance=0}},selectToken(e){this.selectedToken=e,this.getTokenBalance(e)},send(){this.getTokens[this.selectedToken]==="0x0"?this.sendNativeTokens():this.sendErc20Tokens()},async sendErc20Tokens(){this.waiting=!0;try{const e=this.selectedToken,t=this.tokenAmount,o=this.domainLowerCase,a=ce(t,this.selectedTokenDecimals),n=this.getTokens[e],i=new b(ue),c=await new _(n,i,this.signer).transfer(this.receiverAddress,a);document.getElementById("closeSendModal").click();const y=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),M=await c.wait();M.status===1?(this.toast.dismiss(y),this.toast("You have successfully sent "+t+" "+e+" to "+o+"!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(y),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+c.hash,"_blank").focus()}),console.log(M),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:m.ERROR})}},async sendNativeTokens(){this.waiting=!0;try{const e=this.selectedToken,t=this.tokenAmount,o=this.domainLowerCase,a=we(t),n=await this.signer.sendTransaction({to:this.receiverAddress,value:a});document.getElementById("closeSendModal").click();const i=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),r=await n.wait();r.status===1?(this.toast.dismiss(i),this.toast("You have successfully sent "+t+" "+e+" to "+o+"!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),this.waiting=!1,this.getTokenBalance(e)):(this.toast.dismiss(i),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+n.hash,"_blank").focus()}),console.log(r),this.waiting=!1)}catch(e){this.waiting=!1,console.log(e),this.toast(e.message,{type:m.ERROR})}},async validateDomainName(){this.validating=!0,this.domainError=null,this.receiverAddress=null;const e=new b(H);try{if(this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const t=this.domainLowerCase.split(".");for(let o in $)if($[o]["."+t[1]]){const a=this.getFallbackProvider(Number(o)),i=await new _($[o]["."+t[1]],e,a).getDomainHolder(t[0]);if(i!==O){this.receiverAddress=i,this.validating=!1;return}else{this.domainError="This domain name has not been registered yet.",this.validating=!1;return}break}if(!X(this.recipient)){this.domainError="This TLD does not exist.",this.validating=!1;return}}}catch{this.domainError="You have entered an incorrect domain.",this.validating=!1;return}}},setup(){const{address:e,balance:t,signer:o}=P(),a=R(),{getFallbackProvider:n}=V();return{address:e,balance:t,getFallbackProvider:n,signer:o,toast:a}},watch:{address(){this.address&&this.getTokens&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=this.getUserBalance,this.getTokenBalance(this.selectedToken))},balance(){this.address&&this.getTokens&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=this.getUserBalance,this.getTokenBalance(this.selectedToken))},getChainId(){this.getChainId>=1&&this.getTokens&&(this.selectedToken=Object.keys(this.getTokens)[0],this.tokenBalance=this.getUserBalance,this.getTokenBalance(this.selectedToken))}}},q=e=>(E("data-v-696ef14e"),e=e(),N(),e),Dl={class:"container text-center"},xl=q(()=>s("h3",null,"Send tokens to a domain",-1)),Al={class:"row mt-5"},Pl={class:"col-md-6 offset-md-3"},Sl={class:"row mt-4"},El={class:"col-md-4 offset-md-4"},Nl={class:"input-group"},Ul={class:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},Ml={class:"dropdown-menu p-2"},Bl={class:"mb-3"},Il=["onClick"],$l=k(" Balance: "),Rl=["disabled"],Fl={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Ol=k(" Send tokens "),Ll={key:0,class:"modal fade text-start",id:"sendTokensModal",tabindex:"-1","aria-labelledby":"sendTokensModalLabel","aria-hidden":"true"},Vl={class:"modal-dialog modal-dialog-centered"},Hl={class:"modal-content"},Wl={class:"modal-header"},Kl={class:"modal-title",id:"sendTokensModalLabel"},jl=q(()=>s("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),ql={class:"modal-body"},Yl={class:"row mb-3 mt-4"},Jl=q(()=>s("div",{class:"col-sm-3"},[s("strong",null,"Recipient")],-1)),Gl={class:"col-sm-9"},zl={key:0,class:"domain-error"},Xl={key:0,class:"row mb-3 mt-2"},Ql=q(()=>s("div",{class:"col-sm-3"},[s("strong",null,"Recipient address")],-1)),Zl={class:"col-sm-9"},ed={class:"text-break"},td={key:0,class:"domain-error"},sd={class:"row mb-3 mt-2"},nd=q(()=>s("div",{class:"col-sm-3"},[s("strong",null,"Amount")],-1)),ad={class:"col-sm-9"},id={class:"text-break"},od={key:1,class:"row mb-3 mt-2"},rd=q(()=>s("div",{class:"col-sm-3"},[s("strong",null,"Token address")],-1)),ld={class:"col-sm-9"},dd={class:"text-break"},cd={class:"row mb-3 mt-2"},ud=q(()=>s("div",{class:"col-sm-3"},[s("strong",null,"Network")],-1)),md={class:"col-sm-9"},pd={class:"text-break"},hd={class:"modal-footer"},fd=["disabled"],yd={key:0},gd={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},_d={key:2},bd=q(()=>s("button",{id:"closeSendModal",type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Close",-1));function wd(e,t,o,a,n,i){return l(),d(I,null,[s("div",Dl,[xl,s("div",Al,[s("div",Pl,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.receiver=r),class:"form-control text-center border-2 border-light",placeholder:"Enter the receiver's domain name"},null,512),[[T,n.receiver]])])]),s("div",Sl,[s("div",El,[s("div",Nl,[v(s("input",{type:"text",class:"form-control text-end border-2 border-end-0 border-light","onUpdate:modelValue":t[1]||(t[1]=r=>n.tokenAmount=r),placeholder:"0.0"},null,512),[[T,n.tokenAmount]]),s("button",Ul,p(n.selectedToken),1),s("div",Ml,[s("div",Bl,[v(s("input",{class:"form-control mb-2",placeholder:"Filter tokens","onUpdate:modelValue":t[2]||(t[2]=r=>n.filterTokens=r)},null,512),[[T,n.filterTokens]]),s("li",null,[(l(!0),d(I,null,te(i.getTokenNames,r=>(l(),d("button",{class:"dropdown-item",type:"button",key:r,onClick:c=>i.selectToken(r)},p(r),9,Il))),128))])])])]),s("small",null,[$l,s("span",{id:"balance",onClick:t[3]||(t[3]=r=>n.tokenAmount=n.tokenBalance)},p(i.formatTokenBalance)+" "+p(n.selectedToken),1)])])]),s("button",{class:"btn btn-primary mt-4 mb-5",disabled:i.notValid||n.waiting,onClick:t[4]||(t[4]=(...r)=>i.validateDomainName&&i.validateDomainName(...r)),"data-bs-toggle":"modal","data-bs-target":"#sendTokensModal"},[n.waiting?(l(),d("span",Fl)):u("",!0),Ol],8,Rl)]),n.selectedToken?(l(),d("div",Ll,[s("div",Vl,[s("div",Hl,[s("div",Wl,[s("h5",Kl,"Confirm sending "+p(n.selectedToken),1),jl]),s("div",ql,[s("p",null," Please review the data before you send "+p(n.selectedToken)+" to "+p(i.domainLowerCase)+". ",1),s("div",Yl,[Jl,s("div",Gl,[s("span",null,p(i.domainLowerCase),1),n.domainError?(l(),d("span",zl,"Error: "+p(n.domainError),1)):u("",!0)])]),n.receiverAddress?(l(),d("div",Xl,[Ql,s("div",Zl,[s("span",ed,p(n.receiverAddress),1),n.receiverAddress==a.address?(l(),d("span",td,"Error: You are sending tokens to yourself.")):u("",!0)])])):u("",!0),s("div",sd,[nd,s("div",ad,[s("span",id,p(n.tokenAmount)+" "+p(n.selectedToken),1)])]),e.getTokens[n.selectedToken]!=="0x0"?(l(),d("div",od,[rd,s("div",ld,[s("span",dd,p(e.getTokens[n.selectedToken]),1)])])):u("",!0),s("div",cd,[ud,s("div",md,[s("span",pd,p(e.getNetworkName),1)])])]),s("div",hd,[s("button",{type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...r)=>i.send&&i.send(...r)),disabled:n.waiting||n.domainError||n.validating},[n.validating?(l(),d("span",yd,"Validating...")):u("",!0),n.validating?(l(),d("span",gd)):u("",!0),n.validating?u("",!0):(l(),d("span",_d,"Send "+p(n.selectedToken),1))],8,fd),bd])])])])):u("",!0)],64)}var Pe=C(Cl,[["render",wd],["__scopeId","data-v-696ef14e"]]);const kd={name:"ProfileSendTokens",components:{SendTokensComponent:Pe,Sidebar:z}},vd={class:"row"},Td={class:"col-md-3",id:"sidebar-container"},Cd={class:"col-md-9"};function Dd(e,t,o,a,n,i){const r=x("Sidebar"),c=x("SendTokensComponent");return l(),d("div",vd,[s("div",Td,[w(r)]),s("div",Cd,[w(c)])])}var xd=C(kd,[["render",Dd]]);const Ad={name:"SearchDomains",components:{Sidebar:z},data(){return{query:null,waiting:!1}},computed:{domainLowerCase(){return this.query.toLowerCase()},notValid(){if(this.query)if(this.query.includes(".")){if(this.query.includes(" "))return!0;if(this.query.includes("%"))return!0;if(this.query.includes("&"))return!0;if(this.query.includes("?"))return!0;if(this.query.includes("#"))return!0;if(this.query.includes("/"))return!0}else return!0;else return!0;return!1}},methods:{async findDomain(){this.waiting=!0;const e=new b(H);if(this.domainLowerCase&&this.domainLowerCase.split(".").length===2){const t=this.domainLowerCase.split(".");for(let o in $)if($[o]["."+t[1]]){const a=this.getFallbackProvider(Number(o));if(await new _($[o]["."+t[1]],e,a).getDomainHolder(t[0])!==O){this.$router.push({name:"DomainDetails",params:{domainChain:o,tld:t[1],domainName:t[0]}});return}else{this.toast("This domain name has not been registered yet.",{type:m.INFO}),this.waiting=!1;return}}this.toast("Top-level domain ."+t[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:m.ERROR}),this.waiting=!1;return}else{this.toast("This is not a valid domain.",{type:m.ERROR}),this.waiting=!1;return}}},setup(){const e=R(),{getFallbackProvider:t}=V();return{getFallbackProvider:t,toast:e}}},Pd={class:"row"},Sd={class:"col-md-3",id:"sidebar-container"},Ed={class:"col-md-9"},Nd={class:"row"},Ud={class:"col-md-12 mb-3"},Md={class:"container text-center"},Bd=s("h3",null,"Find an existing domain",-1),Id={class:"row mt-5"},$d={class:"col-md-6 offset-md-3"},Rd=["disabled"],Fd={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},Od=k(" Search ");function Ld(e,t,o,a,n,i){const r=x("Sidebar");return l(),d("div",Pd,[s("div",Sd,[w(r)]),s("div",Ed,[s("div",Nd,[s("div",Ud,[s("div",Md,[Bd,s("div",Id,[s("div",$d,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.query=c),class:"form-control text-center border-2 border-light",placeholder:"Enter a domain name",onKeyup:t[1]||(t[1]=We((...c)=>i.findDomain&&i.findDomain(...c),["enter"]))},null,544),[[T,n.query]])])]),s("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[2]||(t[2]=(...c)=>i.findDomain&&i.findDomain(...c)),disabled:n.waiting||i.notValid},[n.waiting?(l(),d("span",Fd)):u("",!0),Od],8,Rd)])])])])])}var Vd=C(Ad,[["render",Ld]]);const Hd={name:"SendTokens",components:{SendTokensComponent:Pe}};function Wd(e,t,o,a,n,i){const r=x("SendTokensComponent");return l(),oe(r)}var Kd=C(Hd,[["render",Wd]]);const jd={name:"TransferDomain",props:["tld","domainName"],components:{Sidebar:z},data(){return{recipient:null,recipientDomain:null,selectedDomain:this.domainName+"."+this.tld,waiting:!1}},computed:h(h({},f("network",["getBlockExplorerBaseUrl"])),f("user",["getUserSelectedName"])),methods:D(h({},Y("user",["removeDomainFromUserDomains"])),{async transfer(){this.waiting=!0;const e=new b(H);if(this.recipient&&this.recipient.split(".").length===2){const t=this.recipient.split(".");for(let o in $)if($[o]["."+t[1]]){const a=this.getFallbackProvider(Number(o)),i=await new _($[o]["."+t[1]],e,a).getDomainHolder(t[0]);i!==O?(this.recipientDomain=this.recipient,this.recipient=i):(this.toast("The recipient's domain name "+this.recipient+" does not exist.",{type:m.ERROR}),this.waiting=!1);break}X(this.recipient)||(this.toast("Top-level domain ."+t[1]+" does not exist (if this is a mistake, contact us on Discord).",{type:m.ERROR}),this.waiting=!1)}else this.recipient?X(this.recipient)||(this.toast("This is not a valid recipient address.",{type:m.ERROR}),this.waiting=!1):(this.toast("This is not a valid recipient address or domain name.",{type:m.ERROR}),this.waiting=!1);if(this.recipient&&X(this.recipient)){const t=new _($[this.chainId]["."+this.tld],e,this.signer),o=await t.domains(this.domainName);try{const a=await t.transferFrom(this.address,this.recipient,o.tokenId.toNumber());if(a){const n=this.toast({component:U,props:{text:"Please wait for your transaction to confirm. Click on this notification to see transaction in the block explorer."}},{type:m.INFO,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),i=await a.wait();i.status===1?(this.toast.dismiss(n),this.toast("You have successfully transferred the domain!",{type:m.SUCCESS,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),this.removeDomainFromUserDomains(this.domainName+"."+this.tld),this.waiting=!1):(this.toast.dismiss(n),this.toast("Transaction has failed.",{type:m.ERROR,onClick:()=>window.open(this.getBlockExplorerBaseUrl+"/tx/"+a.hash,"_blank").focus()}),console.log(i),this.waiting=!1)}}catch(a){console.log(a),this.waiting=!1,this.toast(a.message,{type:m.ERROR})}}}}),setup(){const{address:e,chainId:t,signer:o}=P(),a=R(),{getFallbackProvider:n}=V();return{address:e,chainId:t,getFallbackProvider:n,signer:o,toast:a}}},qd={class:"row"},Yd={class:"col-md-3",id:"sidebar-container"},Jd={class:"col-md-9"},Gd={class:"row"},zd={class:"col-md-12"},Xd={class:"container text-center"},Qd=s("h3",null,"Transfer domain",-1),Zd={class:"row mt-5"},ec={class:"col-md-6 offset-md-3"},tc=["value"],sc={class:"row mt-3"},nc={class:"col-md-6 offset-md-3"},ac=["disabled"],ic={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},oc=k(" Transfer ");function rc(e,t,o,a,n,i){const r=x("Sidebar");return l(),d("div",qd,[s("div",Yd,[w(r)]),s("div",Jd,[s("div",Gd,[s("div",zd,[s("div",Xd,[Qd,s("div",Zd,[s("div",ec,[s("input",{value:o.domainName+"."+o.tld,class:"form-control text-center",readonly:""},null,8,tc)])]),s("div",sc,[s("div",nc,[v(s("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>n.recipient=c),class:"form-control text-center",placeholder:"Enter recipient's address or domain"},null,512),[[T,n.recipient]])])]),s("button",{class:"btn btn-primary mt-3 mb-5",onClick:t[1]||(t[1]=(...c)=>i.transfer&&i.transfer(...c)),disabled:n.waiting},[n.waiting?(l(),d("span",ic)):u("",!0),oc],8,ac)])])])])])}var lc=C(jd,[["render",rc]]);const dc=[{path:"/",name:"Home",component:rr},{path:"/about",name:"About",component:Wn},{path:"/admin",name:"Admin",component:$n},{path:"/allowance",name:"Allowance",component:ka},{path:"/browser",name:"BrowserExtension",component:Ea},{path:"/domain/:domainChain/:tld/:domainName",name:"DomainDetails",component:po,props:!0},{path:"/how",name:"HowItWorks",component:hr},{path:"/profile",name:"Profile",component:Tl},{path:"/profile/send-tokens",name:"ProfileSendTokens",component:xd},{path:"/search-domain",name:"SearchDomains",component:Vd},{path:"/send-tokens",name:"SendTokens",component:Kd},{path:"/transfer/:tld/:domainName",name:"TransferDomain",component:lc,props:!0},{path:"/:pathMatch(.*)*",name:"404",component:()=>jt(()=>import("./Error404.d8fb776e.js"),["assets/Error404.d8fb776e.js","assets/Error404.e34d06f5.css","assets/vendor.01dd2349.js"])}],cc=Ke({history:je(),routes:dc});var uc={"10":{ETH:"0x0",POOL:"0x395Ae52bB17aef68C2888d941736A71dC6d4e125",USDC:"0x7F5c764cBc14f9669B88837ca1490cCa17c31607",USDT:"0x94b008aA00579c1307B0EF2c499aD98a8ce58e58",DAI:"0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1",SUSD:"0x8c6f28f2F1A3C87F0f938b96d27520d9751ec8d9",SNX:"0x8700dAec35aF8Ff88c16BdF0418774CB3D7599B4"}};const{chainId:de}=P();var mc={namespaced:!0,state:()=>({networkCurrency:"ETH",networkName:"Unsupported Network",supportedNetworks:{10:"Optimism"}}),getters:{getBlockExplorerBaseUrl(){return"https://optimistic.etherscan.io"},getChainId(){return de.value},getNetworkCurrency(e){return e.networkCurrency},getNetworkName(e){const t=Object.keys(e.supportedNetworks);return t&&t.includes(String(de.value))?e.networkName:"Unsupported Network"},getSupportedNetworks(e){return e.supportedNetworks},getSupportedNetworkIds(e){return Object.keys(e.supportedNetworks)},getSupportedNetworkNames(e){return Object.values(e.supportedNetworks)},getTokens(e){return uc[String(de.value)]},isNetworkSupported(e){const t=Object.keys(e.supportedNetworks);return!!(t&&t.includes(String(de.value)))}},mutations:{setNetworkData(e){e.networkName="Optimism",e.networkCurrency="ETH"}},actions:{}};const{address:F,balance:Se,chainId:ne,signer:ae}=P();var pc={namespaced:!0,state:()=>({canUserBuy:!0,discountEligible:!1,isTldAdmin:!1,isMinterAdmin:!1,isRoyaltyFeeUpdater:!1,nftAddress:"",selectedName:null,selectedNameData:null,selectedNameImageSvg:null,selectedNameKey:null,tokenAddress:"",tokenContract:null,tokenAllowance:0,tokenBalance:0,tokenName:"ETH",tokenDecimals:4,userAddress:null,userAllDomainNames:[],userDomainNamesKey:null,userShortAddress:null,userBalanceWei:0,userBalance:0}),getters:{getCanUserBuy(e){return e.canUserBuy},getDiscountEligible(e){return e.discountEligible},getUserAddress(e){return e.userAddress},getUserBalance(e){return e.userBalance},getUserBalanceWei(e){return e.userBalanceWei},getUserAllDomainNames(e){return e.userAllDomainNames},getUserSelectedName(e){return e.selectedName},getUserSelectedNameData(e){return e.selectedNameData},getUserSelectedNameImageSvg(e){return e.selectedNameImageSvg},getUserShortAddress(e){return e.userShortAddress},getPaymentTokenAddress(e){return e.tokenAddress},getPaymentTokenAllowance(e){return e.tokenAllowance},getPaymentTokenBalance(e){return e.tokenBalance},getPaymentTokenContract(e){return e.tokenContract},getPaymentTokenName(e){return e.tokenName},getPaymentTokenDecimals(e){return e.tokenDecimals},isUserRoyaltyFeeUpdater(e){return e.isRoyaltyFeeUpdater},isUserMinterAdmin(e){return e.isMinterAdmin},isUserTldAdmin(e){return e.isTldAdmin}},mutations:{addDomainManually(e,t){let o=[];if(F.value){e.userDomainNamesKey="userDomainNames"+String(ne.value)+String(Q(F.value)),e.selectedNameKey="selectedName"+String(ne.value)+String(Q(F.value)),localStorage.getItem(e.userDomainNamesKey)&&(o=JSON.parse(localStorage.getItem(e.userDomainNamesKey))),o.includes(t)||o.push(t);for(let a of o)e.userAllDomainNames.includes(a)||e.userAllDomainNames.push(a);localStorage.setItem(e.userDomainNamesKey,JSON.stringify(o))}},setUserData(e){e.userAddress=F.value,e.userShortAddress=Q(F.value),e.userBalanceWei=Se.value,e.userBalance=qe(Se.value)},setCanUserBuy(e,t){e.canUserBuy=t},setCanGetDiscount(e,t){e.discountEligible=t},setDefaultName(e,t){e.userAllDomainNames.includes(t)||e.userAllDomainNames.push(t)},setIsRoyaltyFeeUpdater(e,t){e.isRoyaltyFeeUpdater=t},setIsMinterAdmin(e,t){e.isMinterAdmin=t},setIsTldAdmin(e,t){e.isTldAdmin=t},setSelectedName(e,t){e.selectedName=t,localStorage.setItem(e.selectedNameKey,e.selectedName),localStorage.setItem("connected","metamask")},setSelectedNameKey(e,t){e.selectedNameKey=t},setSelectedNameData(e,t){e.selectedNameData=t},setSelectedNameImageSvg(e,t){e.selectedNameImageSvg=t},setUserDomainNamesKey(e,t){e.userDomainNamesKey=t},setPaymentTokenAllowance(e,t){e.tokenAllowance=t},setPaymentTokenBalance(e,t){e.tokenBalance=t},setPaymentTokenContract(e,t){e.tokenContract=t},setUserAllDomainNames(e,t){e.userAllDomainNames=t}},actions:{async checkIfAdmin({commit:e,rootGetters:t}){if(F.value){const o=new b(K);await new _(t["tld/getMinterAddress"],o,ae.value).owner()===F.value?e("setIsMinterAdmin",!0):e("setIsMinterAdmin",!1);const i=new b(H);await new _(t["tld/getTldAddress"],i,ae.value).owner()===F.value?e("setIsTldAdmin",!0):e("setIsTldAdmin",!1)}},async fetchUserDomainNames({dispatch:e,commit:t,state:o,rootState:a,rootGetters:n},i){let r=[],c=null,y=null;if(F.value){e("fetchCanUserBuy"),c="userDomainNames"+String(ne.value)+String(Q(F.value)),y="selectedName"+String(ne.value)+String(Q(F.value)),t("setSelectedNameKey",y),t("setUserDomainNamesKey",c),i&&(localStorage.getItem(y)&&localStorage.getItem(y)!==String(null)?t("setSelectedName",localStorage.getItem(y)):(t("setSelectedName",null),t("setSelectedNameData",null),t("setSelectedNameImageSvg",null)),t("setUserAllDomainNames",[])),localStorage.getItem(c)&&(r=JSON.parse(localStorage.getItem(c)));for(let W of r)t("setDefaultName",W);const M=new b(n["punk/getTldAbi"]),B=await new _(n["tld/getTldAddress"],M,ae.value).defaultNames(F.value);B&&(t("setDefaultName",B+a.tld.tldName),r.includes(B+a.tld.tldName)||r.push(B+a.tld.tldName),o.selectedName||t("setSelectedName",B+a.tld.tldName)),localStorage.getItem(y)&&localStorage.getItem(y)!==String(null)?t("setSelectedName",localStorage.getItem(y)):localStorage.setItem(y,o.selectedName),localStorage.setItem(c,JSON.stringify(r)),e("fetchSelectedNameData")}},async fetchCanUserBuy({commit:e,rootGetters:t}){F.value&&e("setCanUserBuy",!0)},async fetchSelectedNameData({commit:e,state:t,rootGetters:o}){if(t.selectedName){const n=t.selectedName.split(".")[0];if(n){const i=new b(o["punk/getTldAbi"]),r=new _(o["tld/getTldAddress"],i,ae.value),c=await r.domains(n);e("setSelectedNameData",c);let y=await r.tokenURI(c.tokenId),M=!1;if(c.data){const A=JSON.parse(c.data);if(A.imgAddress){if(!A.imgAddress.startsWith("0x"))e("setSelectedNameImageSvg",A.imgAddress.replace("ipfs://","https://ipfs.io/ipfs/")),M=!0;else if(A.imgAddress){const B=new b(["function tokenURI(uint256 tokenId) public view returns (string memory)"]);y=await new _(A.imgAddress,B,ae.value).tokenURI(A.imgTokenId)}}if(y.includes("ipfs://")&&(y=y.replace("ipfs://","https://ipfs.io/ipfs/")),y.includes("http")){const W=await(await fetch(y)).json();W&&W.image?(e("setSelectedNameImageSvg",W.image.replace("ipfs://","https://ipfs.io/ipfs/")),M=!0):e("setSelectedNameImageSvg",null)}}if(y&&!M){const A=atob(y.substring(29)),B=JSON.parse(A);B&&B.image?e("setSelectedNameImageSvg",B.image):e("setSelectedNameImageSvg",null)}}}},async removeDomainFromUserDomains({commit:e,state:t},o){if(ne.value&&localStorage.getItem(t.userDomainNamesKey)){const a=JSON.parse(localStorage.getItem(t.userDomainNamesKey));t.userAllDomainNames=[];let n=[];for(let i of a)i!=o&&(n.push(i),t.userAllDomainNames.push(i));localStorage.setItem(t.userDomainNamesKey,JSON.stringify(n)),localStorage.getItem(t.selectedNameKey)&&localStorage.getItem(t.selectedNameKey)==o&&(n.length>0&&e("setSelectedName",n[0]),e("setSelectedName",null))}}}},hc={namespaced:!0,getters:{getTldAbi(){return H}}};const{getFallbackProvider:Ee}=V();var fc={namespaced:!0,state:()=>({discountPercentage:0,tldName:".pool",tldAddress:"0xf2C9E463592BD440f0D422E944E5F95c79404586",tldContract:null,tldChainId:10,tldChainName:"Optimism",minterAddress:"0x77AE10Dd2E7Fc7b2819602D483765D705E9B8DDA",minterContract:null,minterLoadingData:!1,minterPaused:!0,minterTldPrice1:.02,minterTldPrice2:.02,minterTldPrice3:.02,minterTldPrice4:.02,minterTldPrice5:.02}),getters:{getMinterDiscountPercentage(e){return e.discountPercentage},getTldAddress(e){return e.tldAddress},getTldContract(e){return e.tldContract},getTldChainId(e){return e.tldChainId},getTldChainName(e){return e.tldChainName},getTldName(e){return e.tldName},getMinterAddress(e){return e.minterAddress},getMinterContract(e){return e.minterContract},getMinterLoadingData(e){return e.minterLoadingData},getMinterPaused(e){return e.minterPaused},getMinterTldPrice1(e){return e.minterTldPrice1},getMinterTldPrice2(e){return e.minterTldPrice2},getMinterTldPrice3(e){return e.minterTldPrice3},getMinterTldPrice4(e){return e.minterTldPrice4},getMinterTldPrice5(e){return e.minterTldPrice5}},mutations:{setTldContract(e){let t=Ee(e.tldChainId);const o=new b(H);e.tldContract=new _(e.tldAddress,o,t)},setMinterContract(e,t){e.minterContract=t},setDiscountPercentage(e,t){e.discountPercentage=t},setMinterLoadingData(e,t){e.minterLoadingData=t},setMinterPaused(e,t){e.minterPaused=t},setMinterTldPrice1(e,t){e.minterTldPrice1=t},setMinterTldPrice2(e,t){e.minterTldPrice2=t},setMinterTldPrice3(e,t){e.minterTldPrice3=t},setMinterTldPrice4(e,t){e.minterTldPrice4=t},setMinterTldPrice5(e,t){e.minterTldPrice5=t}},actions:{async fetchMinterContractData({commit:e,state:t}){e("setMinterLoadingData",!0);let o=Ee(t.tldChainId);const a=new b(K),n=new _(t.minterAddress,a,o),i=await n.paused();e("setMinterPaused",i);const r=await n.price1char(),c=G(r);e("setMinterTldPrice1",c);const y=await n.price2char(),M=G(y);e("setMinterTldPrice2",M);const A=await n.price3char(),B=G(A);e("setMinterTldPrice3",B);const W=await n.price4char(),Ne=G(W);e("setMinterTldPrice4",Ne);const Ue=await n.price5char(),Me=G(Ue);e("setMinterTldPrice5",Me),e("setMinterLoadingData",!1)}}};const yc=Ye({modules:{network:mc,user:pc,punk:hc,tld:fc}});const ie=Je(Ht),gc={timeout:5e3,hideProgressBar:!0,closeButton:"button",position:Ge.TOP_LEFT,toastClassName:"punk-toast-class",closeOnClick:!1,toastDefaults:{[m.INFO]:{timeout:!1,icon:!1}}};ie.use(cc);ie.use(yc);ie.use(ze,{infuraId:"not-needed-but-should-not-be-empty-either"});ie.use(Xe,gc);ie.mount("#app");export{C as _};
